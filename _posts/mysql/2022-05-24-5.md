---
title:  "[MySQL] AWS - 2. EC2 ì¸ìŠ¤í„´ìŠ¤ì˜ mysql ì™¸ë¶€ ì ‘ì†í•˜ê¸°"

categories:
  - MySQL
tags:
  - [Database, MySQL]

toc: true
toc_sticky: true
 
date: 2022-05-24 18:07:38
last_modified_at: 2022-05-24 18:07:41
---
EC2 ì¸ìŠ¤í„´ìŠ¤ì— mysql-serverê°€ ì´ë¯¸ ì„¤ì¹˜ë˜ì–´ ìˆë‹¤ëŠ” ê°€ì •í•˜ì— ì§„í–‰í•œë‹¤.

# 1. Mysql Config ì„¤ì •
```
sudo vi /etc/mysql/mysql.conf.d/mysqld.cnf
sudo service mysql restart // ë³€ê²½ í›„ mysql ì¬ì‹œì‘
```
`bind-address 127.0.0.1`ì„ `bind-address 0.0.0.0`ìœ¼ë¡œ ë³€ê²½í•œë‹¤. <br>
`mysqlx-bind-address 127.0.0.1`ì„ `mysqlx-bind-address 0.0.0.0`ìœ¼ë¡œ ë³€ê²½í•œë‹¤. <br>
(í˜¹ì€ ë§¨ ì•ì— `#`ì„ ë„£ì–´ ì£¼ì„ì²˜ë¦¬ í•œë‹¤.)<br>
## í™•ì¸í•˜ê¸°
```
netstat -p tcp -van | grep LISTEN | grep 3306
```
![á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2022-05-23 á„‹á…©á„’á…® 4 47 55](https://user-images.githubusercontent.com/59405576/169778601-a2730a26-860e-4a5a-9249-e272b81bf7a3.png)
<br>
ìœ„ ì‚¬ì§„ì²˜ëŸ¼ `0.0.0.0:3306`ì´ì–´ì•¼ í•œë‹¤. `127.0.0.1`ì´ ì•„ë‹Œì§€ í™•ì¸í•œë‹¤.


# 2. ì™¸ë¶€ í—ˆìš© sqlë¬¸ ì…ë ¥
mysqlì— ì ‘ì†í•˜ì—¬ ì§„í–‰í•œë‹¤.
```
mysql -u root -p // mysql ì ‘ì†
create user 'root'@'%' identified by '[password]';
grant all privileges on *.* to 'root'@'%' with grant option;
```

# 3. mysql ì¬ì‹œì‘ & í¬íŠ¸ ì—´ê¸°
```
sudo service mysql restart
sudo ufw allow out 3306/tcp
sudo ufw allow in 3306/tcp
sudo service mysql restart
```

# 4. EC2 í¬íŠ¸ ê°œë°©
í¬íŠ¸ ì„¤ì •ì€ EC2 ì¸ìŠ¤í„´ìŠ¤ ìƒì„¸ í˜ì´ì§€ì—ì„œ í•  ìˆ˜ ìˆë‹¤.

## ë³´ì•ˆ íƒ­ ëˆ„ë¥´ê¸°
![á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2022-05-23 á„‹á…©á„’á…® 12 16 11](https://user-images.githubusercontent.com/59405576/169736510-8780bdff-60f1-4f8b-b9aa-6a8f3445799c.png)

## ì¸ë°”ìš´ë“œ ê·œì¹™ í¸ì§‘
![á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2022-05-23 á„‹á…©á„’á…® 2 23 33](https://user-images.githubusercontent.com/59405576/169749018-77f79396-b863-45c6-ae57-51b84b9efa50.png) <br>
![á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2022-05-23 á„‹á…©á„’á…® 12 16 47](https://user-images.githubusercontent.com/59405576/169736562-ff6f15e3-c5c9-4c49-86e7-f5f8097266dc.png) <br>
ê·œì¹™ ì¶”ê°€ ë²„íŠ¼ì„ ëˆ„ë¥´ê³  ë‚´ IPì™€ ì‚¬ìš©í•  í¬íŠ¸ ë²ˆí˜¸(3306)ë¥¼ ì…ë ¥í•˜ê³  ê·œì¹™ ì €ì¥ ë²„íŠ¼ì„ ëˆ„ë¥¸ë‹¤.<br>
ì´ì œ EC2 ì¸ìŠ¤í„´ìŠ¤ì— ë‚´ IPë¡œë¶€í„° 3306ë²ˆ í¬íŠ¸ë¡œ TCP ì—°ê²°ì„ í•  ìˆ˜ ìˆë„ë¡ ì„¤ì •ì„ ë§ˆì³¤ë‹¤.

# 5. ì›ê²© ì ‘ì† í™•ì¸
## ë¡œì»¬ì—ì„œ í™•ì¸
ì™¸ë¶€ì—ì„œ EC2 ì¸ìŠ¤í„´ìŠ¤ì— ì„¤ì¹˜ëœ mysqlì— ì ‘ì†ì´ ì˜ ë˜ëŠ”ì§€ í™•ì¸í•´ë³´ì. 
```
mysql -u root -p -h [EC2 ì¸ìŠ¤í„´ìŠ¤ì˜ IP]
```

## mysql workbench í™•ì¸
![á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2022-05-23 á„‹á…©á„’á…® 2 17 44](https://user-images.githubusercontent.com/59405576/169748410-2fec6453-ddb3-451d-aa6a-98968c30f9bc.png)<br>
Host nameì— EC2 ì¸ìŠ¤í„´ìŠ¤ IPë¥¼ ì…ë ¥í•œ ë’¤ OKë¥¼ ëˆ„ë¥¸ë‹¤.



# ì°¸ê³ 
[KoB](https://kingofbackend.tistory.com/195)


***
<br>

    ğŸ’› ê°œì¸ ê³µë¶€ ê¸°ë¡ìš© ë¸”ë¡œê·¸ì…ë‹ˆë‹¤. ğŸ‘»

[ë§¨ ìœ„ë¡œ ì´ë™í•˜ê¸°](#){: .btn .btn--primary }{: .align-right}
---
title:  "Spring Cloud Gateway ë€? "

categories:
  - SpringCloud
tags:
  - [SpringCloud]

toc: true
toc_sticky: true
 
date: 2022-09-26 21:30:24
last_modified_at: 2022-09-26 21:30:28
---

Netflix Zuulì€ Spring Boot 2.4.x ë²„ì „ë¶€í„°ëŠ” ì‚¬ìš©í•  ìˆ˜ ì—†ê¸° ë•Œë¬¸ì—,<br>
ëŒ€ì‹ í•´ì„œ Spring Cloud Gatewayë¥¼ ì‚¬ìš©í•´ ê²Œì´íŠ¸ì›¨ì´ ì„œë¹„ìŠ¤ì™€ ë¼ìš°íŒ… ì„œë¹„ìŠ¤ë¥¼ êµ¬í˜„í•´ë³´ë„ë¡ í•˜ì.<br><br>
Spring Cloud GatewayëŠ” Zuulê³¼ ë‹¬ë¦¬ ë¹„ë™ê¸° ì²˜ë¦¬ê°€ ê°€ëŠ¥í•˜ë‹¤ëŠ” ì¥ì ì´ ìˆë‹¤.

# í”„ë¡œì íŠ¸ ìƒì„±
## first-service
- Spring Boot: 2.4.2
- dependencies: `Lombok`, `Spring Web`, `Eureka Discovery Client`

`application.yml`
```yml
server:
  port: 8081

spring:
  application:
    name: my-first-service

eureka:
  client:
    register-with-eureka: false
    fetch-registry: false
```

`FirstServiceController.java`
```java
@RestController
@RequestMapping("/first-service")
public class FirstServiceController {

    @GetMapping("/welcome")
    public String welcome() {
        return "Welcome First Service";
    }
}
```

## second-service
- Spring Boot: 2.4.2
- dependencies: `Lombok`, `Spring Web`, `Eureka Discovery Client`

`application.yml`
```yml
server:
  port: 8082

spring:
  application:
    name: my-second-service

eureka:
  client:
    register-with-eureka: false
    fetch-registry: false
```

`SecondServiceController.java`
```java
@RestController
@RequestMapping("/second-service")
public class SecondServiceController {

    @GetMapping("/welcome")
    public String welcome() {
        return "Welcome Second Service";
    }
}
```

## apigateway-service
- Spring Boot: 2.4.2

`application.yml`
```yml
server:
  port: 8000

eureka:
  client:
    register-with-eureka: false
    fetch-registry: false
    service-url:
      defaultZone: http://localhost:8761/eureka

spring:
  application:
    name: apigateway-service
  cloud:
    gateway:
      routes:
        - id: first-service
          uri: http://localhost:8081/
          predicates:
            - Path=/first-service/**
        - id: second-service
          uri: http://localhost:8082/
          predicates:
            - Path=/second-service/**
```
ì´ë•Œ, `spring.cloud.gateway.routes`ì˜ ì„¤ì •ì´ ì¤‘ìš”í•œë°,<br>
`uri`ì—ëŠ” ê°ê°ì˜ ë§ˆì´í¬ë¡œ ì„œë¹„ìŠ¤ì˜ ipì™€ í¬íŠ¸ë²ˆí˜¸ë¥¼ ì…ë ¥í•œë‹¤.<br><br>
ì´ì œ `predicates`ë¥¼ í•´ì„í•´ë³´ì.<br>
`predicates`ê°€ `/first-service/**` ë¼ë©´, <br>
`http://localhost:8000/first-service/**`ë¡œ ì˜¤ëŠ” ìš”ì²­ì„ `8081`ë²ˆ í¬íŠ¸ì˜ `/first-service/**` ì—”ë“œí¬ì´íŠ¸ë¡œ ë„˜ê¸´ë‹¤ëŠ” ê²ƒì´ê³ ,<br><br>
`predicates`ê°€ `/second-service/**` ë¼ë©´, <br>
`http://localhost:8000/second-service/**`ë¡œ ì˜¤ëŠ” ìš”ì²­ì„ `8082`ë²ˆ í¬íŠ¸ì˜ `/second-service/**` ì—”ë“œí¬ì´íŠ¸ë¡œ ë„˜ê¸´ë‹¤ëŠ” ê²ƒì´ë‹¤.

> ì£¼ì˜ ğŸŒŸ<br>
ë”°ë¼ì„œ `FirstServiceController`ì—ì„œ `@RequestMapping("/first-service")`ì„ ì§€ì •í•˜ê³ ,<br>
ë§ˆì°¬ê°€ì§€ë¡œ `SecondServiceController`ì—ì„œë„ `@RequestMapping("/second-service")`ì„ ì§€ì •í•´ì•¼ í•œë‹¤.<br>





















***
<br>


    ğŸ’› ê°œì¸ ê³µë¶€ ê¸°ë¡ìš© ë¸”ë¡œê·¸ì…ë‹ˆë‹¤. ğŸ‘»

[ë§¨ ìœ„ë¡œ ì´ë™í•˜ê¸°](#){: .btn .btn--primary }{: .align-right}
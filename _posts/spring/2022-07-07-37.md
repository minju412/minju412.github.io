---
title:  "[SPRING] h2 ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²° "

categories:
  - Spring
tags:
  - [Framework, Spring, Java]

toc: true
toc_sticky: true
 
date: 2022-07-07 14:51:03
last_modified_at: 2022-07-07 14:51:07
---

> ì£¼ì˜ ğŸš¨<br>
H2 ë°ì´í„°ë² ì´ìŠ¤ ì„œë²„ë¥¼ ë¨¼ì € ì‹¤í–‰í•´ë‘ì.

# ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²°

## `ConnectionConst`
`src/main/java/hello/jdbc/connection/ConnectionConst.java`
```java
public abstract class ConnectionConst {
    public static final String URL = "jdbc:h2:tcp://localhost/~/test";
    public static final String USERNAME = "sa";
    public static final String PASSWORD = "";
}
```
ë°ì´í„°ë² ì´ìŠ¤ì— ì ‘ì†í•˜ëŠ”ë° í•„ìš”í•œ ê¸°ë³¸ ì •ë³´ë¥¼ í¸ë¦¬í•˜ê²Œ ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ ìƒìˆ˜ë¡œ ë§Œë“¤ì—ˆë‹¤. <br>
ì´ì œ JDBCë¥¼ ì‚¬ìš©í•´ì„œ ì‹¤ì œ ë°ì´í„°ë² ì´ìŠ¤ì— ì—°ê²°í•˜ëŠ” ì½”ë“œë¥¼ ì‘ì„±í•´ë³´ì.

## `DBConnectionUtil`
`src/main/java/hello/jdbc/connection/DBConnectionUtil.java`
```java
import java.sql.Connection;
import static hello.jdbc.connection.ConnectionConst.*;

@Slf4j
public class DBConnectionUtil {

    public static Connection getConnection(){

        try {
            Connection connection = DriverManager.getConnection(URL, USERNAME, PASSWORD);
            log.info("get connection={}, class={}", connection, connection.getClass());

            return connection;

        } catch (SQLException e) {
            throw new IllegalStateException(e);
        }
    }
}
```
ë°ì´í„°ë² ì´ìŠ¤ì— ì—°ê²°í•˜ë ¤ë©´ JDBCê°€ ì œê³µí•˜ëŠ” `DriverManager.getConnection(..)` ë¥¼ ì‚¬ìš©í•˜ë©´ ëœë‹¤. <br>
ì´ë ‡ê²Œ í•˜ë©´ ë¼ì´ë¸ŒëŸ¬ë¦¬ì— ìˆëŠ” ë°ì´í„°ë² ì´ìŠ¤ ë“œë¼ì´ë²„ë¥¼ ì°¾ì•„ì„œ í•´ë‹¹ ë“œë¼ì´ë²„ê°€ ì œê³µí•˜ëŠ” ì»¤ë„¥ì…˜ì„ ë°˜í™˜í•´ì¤€ë‹¤. <br>
ì—¬ê¸°ì„œëŠ” H2 ë°ì´í„°ë² ì´ìŠ¤ ë“œë¼ì´ë²„ê°€ ì‘ë™í•´ì„œ ì‹¤ì œ ë°ì´í„°ë² ì´ìŠ¤ì™€ ì»¤ë„¥ì…˜ì„ ë§ºê³  ê·¸ ê²°ê³¼ë¥¼ ë°˜í™˜í•´ì¤€ë‹¤.<br><br>
ê°„ë‹¨í•œ í•™ìŠµìš© í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ ë§Œë“¤ì–´ì„œ ì‹¤í–‰í•´ë³´ì.

# í…ŒìŠ¤íŠ¸
## `DBConnectionUtilTest`
`src/test/java/hello/jdbc/connection/DBConnectionUtilTest.java`
```java
@Slf4j
class DBConnectionUtilTest {

    @Test
    void connection(){
        Connection connection = DBConnectionUtil.getConnection();
        assertThat(connection).isNotNull();
    }
}
```
> ì£¼ì˜ ğŸš¨<br>
ì‹¤í–‰ì „ì— H2 ë°ì´í„°ë² ì´ìŠ¤ ì„œë²„ë¥¼ ì‹¤í–‰í•´ë‘ì–´ì•¼ í•œë‹¤. 

### ì‹¤í–‰ ê²°ê³¼
```
DBConnectionUtil - get connection=conn0: url=jdbc:h2:tcp://localhost/~/test user=SA, class=class org.h2.jdbc.JdbcConnection
```
ì‹¤í–‰ ê²°ê³¼ë¥¼ ë³´ë©´ `class=class org.h2.jdbc.JdbcConnection` ë¶€ë¶„ì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤. <br>
ì´ê²ƒì´ ë°”ë¡œ H2 ë°ì´í„°ë² ì´ìŠ¤ ë“œë¼ì´ë²„ê°€ ì œê³µí•˜ëŠ” H2 ì „ìš© ì»¤ë„¥ì…˜ì´ë‹¤. ë¬¼ë¡  ì´ ì»¤ë„¥ì…˜ì€ JDBC í‘œì¤€ ì»¤ë„¥ì…˜ ì¸í„°í˜ì´ìŠ¤ì¸ `java.sql.Connection` ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„í•˜ê³  ìˆë‹¤.








***
<br>

    ğŸ’› ê°œì¸ ê³µë¶€ ê¸°ë¡ìš© ë¸”ë¡œê·¸ì…ë‹ˆë‹¤. ğŸ‘»

[ë§¨ ìœ„ë¡œ ì´ë™í•˜ê¸°](#){: .btn .btn--primary }{: .align-right}
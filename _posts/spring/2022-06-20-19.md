---
title:  "[SPRING] ìŠ¤í”„ë§ MVC êµ¬ì¡° ì´í•´ (v1~v3) "

categories:
  - Spring
tags:
  - [Framework, Spring, Java]

toc: true
toc_sticky: true
 
date: 2022-06-20 02:25:35
last_modified_at: 2022-06-20 02:25:37
---

# ë·° ë¦¬ì¡¸ë²„
`resources`>`application.properties`ì— ì•„ë˜ ì½”ë“œë¥¼ ì¶”ê°€í•œë‹¤.
```
spring.mvc.view.prefix=/WEB-INF/views/
spring.mvc.view.suffix=.jsp
```
ìŠ¤í”„ë§ ë¶€íŠ¸ëŠ” `InternalResourceViewResolver`ë¼ëŠ” ë·° ë¦¬ì¡¸ë²„ë¥¼ ìë™ìœ¼ë¡œ ë“±ë¡í•˜ëŠ”ë°, ì´ë•Œ `application.properties`ì— ë“±ë¡í•œ `spring.mvc.view.prefix` , `spring.mvc.view.suffix` ì„¤ì • ì •ë³´ë¥¼ ì‚¬ìš©í•´ì„œ ë“±ë¡í•œë‹¤.

# ğŸ’ v1 - ìŠ¤í”„ë§ MVC ì‹œì‘í•˜ê¸°
ìŠ¤í”„ë§ì´ ì œê³µí•˜ëŠ” ì»¨íŠ¸ë¡¤ëŸ¬ëŠ” ì• ë…¸í…Œì´ì…˜ ê¸°ë°˜ìœ¼ë¡œ ë™ì‘í•´ì„œ, ë§¤ìš° ìœ ì—°í•˜ê³  ì‹¤ìš©ì ì´ë‹¤.
## SpringMemberFormControllerV1 - íšŒì› ë“±ë¡ í¼
```java
@Controller // ìŠ¤í”„ë§ì´ ìë™ìœ¼ë¡œ ìŠ¤í”„ë§ ë¹ˆìœ¼ë¡œ ë“±ë¡í•œë‹¤. (ì»´í¬ë„ŒíŠ¸ ìŠ¤ìº”ì˜ ëŒ€ìƒì´ ë¨)
public class SpringMemberFormControllerV1 {

    @RequestMapping("/springmvc/v1/members/new-form") // ìš”ì²­ ì •ë³´ë¥¼ ë§¤í•‘í•œë‹¤. í•´ë‹¹ URLì´ í˜¸ì¶œë˜ë©´ ì´ ë©”ì„œë“œê°€ í˜¸ì¶œëœë‹¤.
    public ModelAndView process(){
        return new ModelAndView("new-form"); // ëª¨ë¸ê³¼ ë·° ì •ë³´ë¥¼ ë‹´ì•„ì„œ ë°˜í™˜í•œë‹¤.
    }
}
```
### @Controller
- ìŠ¤í”„ë§ì´ ìë™ìœ¼ë¡œ ìŠ¤í”„ë§ ë¹ˆìœ¼ë¡œ ë“±ë¡í•œë‹¤. (ë‚´ë¶€ì— `@Component` ì• ë…¸í…Œì´ì…˜ì´ ìˆì–´ì„œ ì»´í¬ë„ŒíŠ¸ ìŠ¤ìº”ì˜ ëŒ€ìƒì´ ë¨)
- ìŠ¤í”„ë§ MVCì—ì„œ ì• ë…¸í…Œì´ì…˜ ê¸°ë°˜ ì»¨íŠ¸ë¡¤ëŸ¬ë¡œ ì¸ì‹í•œë‹¤.

### @RequestMapping
- ìš”ì²­ ì •ë³´ë¥¼ ë§¤í•‘í•œë‹¤.
- í•´ë‹¹ URLì´ í˜¸ì¶œë˜ë©´ ì´ ë©”ì„œë“œê°€ í˜¸ì¶œëœë‹¤.
- ì• ë…¸í…Œì´ì…˜ì„ ê¸°ë°˜ìœ¼ë¡œ ë™ì‘í•˜ê¸° ë•Œë¬¸ì— ë©”ì„œë“œì˜ ì´ë¦„ì€ ì„ì˜ë¡œ ì§€ìœ¼ë©´ ëœë‹¤.

## SpringMemberSaveControllerV1 - íšŒì› ì €ì¥
```java
@Controller
public class SpringMemberSaveControllerV1 {

    private MemberRepository memberRepository = MemberRepository.getInstance();

    @RequestMapping("/springmvc/v1/members/save")
    public ModelAndView process(HttpServletRequest req, HttpServletResponse res) {

        String username = req.getParameter("username");
        int age = Integer.parseInt(req.getParameter("age"));

        Member member = new Member(username, age);
        memberRepository.save(member);

        ModelAndView mv = new ModelAndView("save-result"); // ë·°ì˜ ì „ì²´ pathê°€ ì•„ë‹Œ ë…¼ë¦¬ì ì¸ ì´ë¦„ì„ ë„£ëŠ”ë‹¤.
        mv.addObject("member", member); // ìŠ¤í”„ë§ì´ ì œê³µí•˜ëŠ” ModelAndViewë¥¼ í†µí•´ Model ë°ì´í„°ë¥¼ ì¶”ê°€í•  ë•ŒëŠ” ddOnject()ë¥¼ ì‚¬ìš©í•œë‹¤. ì´ ë°ì´í„°ëŠ” ì´í›„ ë·°ë¥¼ ë Œë”ë§ í•  ë•Œ ì‚¬ìš©ëœë‹¤.

        return mv;
    }
}

```

## SpringMemberListControllerV1 - íšŒì› ëª©ë¡
```java
@Controller
public class SpringMemberListControllerV1 {

    private MemberRepository memberRepository = MemberRepository.getInstance();

    @RequestMapping("/springmvc/v1/members")
    public ModelAndView process() {

        List<Member> members = memberRepository.findAll();

        ModelAndView mv = new ModelAndView("members");
        mv.addObject("members", members);

        return mv;
    }
}
```

# ğŸ’ v2 - ì»¨íŠ¸ë¡¤ëŸ¬ í†µí•©
`@RequestMapping`ì„ ì˜ ë³´ë©´ í´ë˜ìŠ¤ ë‹¨ìœ„ê°€ ì•„ë‹ˆë¼ ë©”ì„œë“œ ë‹¨ìœ„ì— ì ìš©ëœ ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤.<br>
ë”°ë¼ì„œ ì»¨íŠ¸ë¡¤ëŸ¬ í´ë˜ìŠ¤ë¥¼ ìœ ì—°í•˜ê²Œ í•˜ë‚˜ë¡œ í†µí•©í•  ìˆ˜ ìˆë‹¤.

## SpringMemberControllerV2
```java
@Controller
@RequestMapping("/springmvc/v2/members") // ğŸŒŸ ì¤‘ë³µ ì œê±°
public class SpringMemberControllerV2 {

    private MemberRepository memberRepository = MemberRepository.getInstance();

    @RequestMapping("/new-form") // /springmvc/v2/members/new-form
    public ModelAndView newForm(){
        return new ModelAndView("new-form");
    }

    @RequestMapping("/save") // /springmvc/v2/members/save
    public ModelAndView save(HttpServletRequest req, HttpServletResponse res) {

        String username = req.getParameter("username");
        int age = Integer.parseInt(req.getParameter("age"));

        Member member = new Member(username, age);
        memberRepository.save(member);

        ModelAndView mv = new ModelAndView("save-result");
        mv.addObject("member", member);

        return mv;
    }

    @RequestMapping // /springmvc/v2/members
    public ModelAndView members() {

        List<Member> members = memberRepository.findAll();

        ModelAndView mv = new ModelAndView("members");
        mv.addObject("members", members);

        return mv;
    }
}
```
### ì¡°í•©
ì»¨íŠ¸ë¡¤ëŸ¬ í´ë˜ìŠ¤ë¥¼ í†µí•©í•˜ëŠ” ê²ƒì„ ë„˜ì–´ì„œ ì¡°í•©ë„ ê°€ëŠ¥í•˜ë‹¤.
```
@RequestMapping("/springmvc/v2/members/new-form")
@RequestMapping("/springmvc/v2/members")
@RequestMapping("/springmvc/v2/members/save")
```
ìœ„ ì½”ë“œëŠ” `/springmvc/v2/members`ë¼ëŠ” ë¶€ë¶„ì— ì¤‘ë³µì´ ìˆë‹¤.<br>
ë¬¼ë¡  ì´ë ‡ê²Œ ì‚¬ìš©í•´ë„ ë˜ì§€ë§Œ, í´ë˜ìŠ¤ ë ˆë²¨ì— `@RequestMapping`ì„ ë‘ì–´ ì¤‘ë³µì„ ì œê±°í•  ìˆ˜ë„ ìˆë‹¤.<br>

### ì¡°í•© ê²°ê³¼
- í´ë˜ìŠ¤ ë ˆë²¨ `@RequestMapping("/springmvc/v2/members")`<br>- ë©”ì„œë“œ ë ˆë²¨ `@RequestMapping("/new-form")` -> /springmvc/v2/members/new-form<br>- ë©”ì„œë“œ ë ˆë²¨ `@RequestMapping("/save")` -> /springmvc/v2/members/save<br>- ë©”ì„œë“œ ë ˆë²¨ `@RequestMapping` -> /springmvc/v2/members

# ğŸ’ v3 - ì‹¤ìš©ì ì¸ ë°©ì‹
ì´ì „ì— MVC í”„ë ˆì„ì›Œí¬ ë§Œë“¤ê¸°ì—ì„œ, v3ì€ ModelViewë¥¼ ê°œë°œìê°€ ì§ì ‘ ìƒì„±í•´ì„œ ë°˜í™˜í–ˆê¸° ë•Œë¬¸ì— ë¶ˆí¸í–ˆì—ˆë‹¤. ë”°ë¼ì„œ v4ë¥¼ ë§Œë“¤ë©´ì„œ ì‹¤ìš©ì ìœ¼ë¡œ ê°œì„ í•  ìˆ˜ ìˆì—ˆë‹¤.<br>
ì‹¤ë¬´ì—ì„œëŠ” ì´ ë°©ì‹ì„ ì£¼ë¡œ ì‚¬ìš©í•œë‹¤.

## SpringMemberControllerV3
```java
@Controller
@RequestMapping("/springmvc/v3/members") 
public class SpringMemberControllerV3 {

    private MemberRepository memberRepository = MemberRepository.getInstance();

    @GetMapping("/new-form") // GET /springmvc/v3/members/new-form
    public String newForm(){
        return "new-form"; // ModelAndView ê°ì²´ê°€ ì•„ë‹Œ String í˜•íƒœë¡œ ë°˜í™˜í•œë‹¤.
    }

    @PostMapping("/save") // POST /springmvc/v3/members/save
    public String save(@RequestParam ("username") String username, @RequestParam ("age") int age, Model model) { // íŒŒë¼ë¯¸í„°ë¥¼ ë°›ê¸° ìœ„í•´ @RequestParam ì‚¬ìš©

        Member member = new Member(username, age);
        memberRepository.save(member);

        model.addAttribute("member", member);

        return "save-result";
    }

    @GetMapping // GET /springmvc/v3/members
    public String members(Model model) {

        List<Member> members = memberRepository.findAll();

        model.addAttribute("members", members);

        return "members";
    }
}
```
### Model íŒŒë¼ë¯¸í„°
`save()`, `members()`ë¥¼ ë³´ë©´ Modelì„ íŒŒë¼ë¯¸í„°ë¡œ ë°›ëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤. ìŠ¤í”„ë§ MVCë„ ì´ëŸ° í¸ì˜ê¸°ëŠ¥ì„ ì œê³µí•œë‹¤.

### ViewName ì§ì ‘ ë°˜í™˜
ë·°ì˜ ë…¼ë¦¬ ì´ë¦„ì„ ë°˜í™˜í•  ìˆ˜ ìˆë‹¤.

### @RequestParam ì‚¬ìš©
ìŠ¤í”„ë§ì€ HTTP ìš”ì²­ íŒŒë¼ë¯¸í„°ë¥¼ `@RequestParam`ìœ¼ë¡œ ë°›ì„ ìˆ˜ ìˆë‹¤.<br>
`@RequestParam("username")`ì€ `request.getParameter("username")`ì™€ ê±°ì˜ ê°™ì€ ì½”ë“œë¼ ìƒê°í•˜ë©´ ëœë‹¤. ë¬¼ë¡  GET ì¿¼ë¦¬ íŒŒë¼ë¯¸í„°, POST Form ë°©ì‹ì„ ëª¨ë‘ ì§€ì›í•œë‹¤.

### @RequestMapping ğŸ‘‰ @GetMapping, @PostMapping
`@RequestMapping`ì€ URLë§Œ ë§¤ì¹­í•˜ëŠ” ê²ƒì´ ì•„ë‹ˆë¼, HTTP Methodë„ í•¨ê»˜ êµ¬ë¶„í•  ìˆ˜ ìˆë‹¤.<br>
ì˜ˆë¥¼ ë“¤ì–´ì„œ URLì´ /new-form ì´ê³ , HTTP Methodê°€ GETì¸ ê²½ìš°ë¥¼ ëª¨ë‘ ë§Œì¡±í•˜ëŠ” ë§¤í•‘ì„ í•˜ë ¤ë©´ ë‹¤ìŒê³¼ ê°™ì´ ì²˜ë¦¬í•˜ë©´ ëœë‹¤.
```
@RequestMapping(value = "/new-form", method = RequestMethod.GET)
```
ì´ê²ƒì„ `@GetMapping` , `@PostMapping` ìœ¼ë¡œ ë” í¸ë¦¬í•˜ê²Œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. ì°¸ê³ ë¡œ Get, Post, Put, Delete, Patch ëª¨ë‘ ì• ë…¸í…Œì´ì…˜ì´ ì¤€ë¹„ë˜ì–´ ìˆë‹¤.




***
<br>

    ğŸ’› ê°œì¸ ê³µë¶€ ê¸°ë¡ìš© ë¸”ë¡œê·¸ì…ë‹ˆë‹¤. ğŸ‘»

[ë§¨ ìœ„ë¡œ ì´ë™í•˜ê¸°](#){: .btn .btn--primary }{: .align-right}
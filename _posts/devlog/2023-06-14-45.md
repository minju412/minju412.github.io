---
title:  "ìš°ë¶„íˆ¬ í˜¸ìŠ¤íŠ¸ì— í™˜ê²½ë³€ìˆ˜ íŒŒì¼ ë³µì‚¬í•˜ê¸° "

categories:
  - Devlog
tags:
  - [Devlog]

toc: true
toc_sticky: true
 
date: 2023-06-14 19:25:46
last_modified_at: 2023-06-14 19:25:49
---


# 1. ìš°ë¶„íˆ¬ ì¸ìŠ¤í„´ìŠ¤ì— í™˜ê²½ë³€ìˆ˜ íŒŒì¼ ìƒì„±
```
env
â¿ application-oauth.yml
â¿ application-jwt.yml
```
![á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2023-06-14 á„‹á…©á„’á…® 7 45 19](https://github.com/minju412/jenkins-test/assets/59405576/216fccb4-72d2-43ef-a5ec-9f7bf97f9add)

# 2. ì  í‚¨ìŠ¤ ì»¨í…Œì´ë„ˆ ì ‘ì† í›„ í´ë” ìƒì„±
í˜¸ìŠ¤íŠ¸ì— ìƒì„±í•œ `aws-s3.yml` íŒŒì¼ì„ ì  í‚¨ìŠ¤ ì»¨í…Œì´ë„ˆ ë‚´ë¶€ë¡œ ë³µì‚¬í•  ê²ƒì´ë‹¤.<br>
ë³µì‚¬í•  í´ë”ë¥¼ ìƒì„±í•´ì£¼ì.

```bash
$ docker exec -it jenkins /bin/bash
$ mkdir my-env
```
<img width="434" alt="á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2023-03-20 á„‹á…©á„’á…® 3 05 51" src="https://user-images.githubusercontent.com/59405576/226260172-f5cc721b-7bd3-42f2-aff5-91c330d4ee10.png">

## í˜¸ìŠ¤íŠ¸ -> ì»¨í…Œì´ë„ˆ íŒŒì¼ ë³µì‚¬
ì  í‚¨ìŠ¤ ì»¨í…Œì´ë„ˆë¥¼ `exit` í•œ ë’¤ í˜¸ìŠ¤íŠ¸ì—ì„œ ì§„í–‰í•œë‹¤!
```bash
# docker cp [host íŒŒì¼ê²½ë¡œ] [container name]:[container ë‚´ë¶€ ê²½ë¡œ]
$ docker cp /home/ubuntu/env/application-oauth.yml jenkins:/my-env/application-oauth.yml
$ docker cp /home/ubuntu/env/application-jwt.yml jenkins:/my-env/application-jwt.yml
```
![á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2023-06-14 á„‹á…©á„’á…® 7 53 04](https://github.com/minju412/jenkins-test/assets/59405576/e29de7fa-9789-4122-ac6c-8f833f3f0bc2)


ğŸš¨ ì»¨í…Œì´ë„ˆë¥¼ ì§€ì› ë‹¤ê°€ ë‹¤ì‹œ ìƒì„±í•˜ë©´ `my-env`ê°€ ì‚¬ë¼ì§€ê¸° ë•Œë¬¸ì— íŒŒì¼ ë³µì‚¬ë¥¼ ë‹¤ì‹œ í•´ì£¼ì–´ì•¼ í•¨..<br>
ë‚˜ì¤‘ì— ìŠ¤í¬ë¦½íŠ¸ë¡œ ë§Œë“¤ ìˆ˜ ìˆì„ë“¯

## í™•ì¸
ì  í‚¨ìŠ¤ ì»¨í…Œì´ë„ˆì— ì ‘ì†í•˜ì—¬ ì˜ ë³µì‚¬ë˜ì—ˆëŠ”ì§€ í™•ì¸í•˜ì.
```bash
$ docker exec -it jenkins /bin/bash
$ cd my-env
$ ls -al
```
![á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2023-06-14 á„‹á…©á„’á…® 7 55 10](https://github.com/minju412/jenkins-test/assets/59405576/61ff7a66-96c6-4382-b4d0-54a4ee7deb2c)<br>
ì˜ ë³µì‚¬ë˜ì—ˆë‹¤!

# 3. ì  í‚¨ìŠ¤ ì„¤ì •
## ì  í‚¨ìŠ¤ build Steps ë³€ê²½
ê¸°ì¡´ shell ì—ì„œ `í™˜ê²½ë³€ìˆ˜ íŒŒì¼ ì£¼ì…` ë‹¨ê³„ë¥¼ ì¶”ê°€í•´ì•¼ í•œë‹¤!<br>
(í”„ë¡œì íŠ¸ì— `.gitignore`ì— ë“±ë¡ë˜ì–´ ìˆëŠ” `aws-s3.yml` íŒŒì¼ì„ ì£¼ì…í•˜ê¸° ìœ„í•´ì„œ)

```sh
echo "í™˜ê²½ë³€ìˆ˜ íŒŒì¼ ì£¼ì…"
cp /my-env/application-oauth.yml ./src/main/resources
cp /my-env/application-jwt.yml ./src/main/resources

echo "í™˜ê²½ë³€ìˆ˜ íŒŒì¼ ìœ„ì¹˜ í™•ì¸"
find -name application-oauth.yml
find -name application-jwt.yml

echo "jar íŒŒì¼ ìƒì„±"
./gradlew build jar -x test

echo "ë„ì»¤ ì´ë¯¸ì§€ ë¹Œë“œ"
docker-compose build --no-cache

echo "ë„ì»¤ ì»¨í…Œì´ë„ˆ ìƒì„± ë° ì‹¤í–‰"
docker-compose up --force-recreate -d

sleep 5s
docker ps -a
```

## ì§€ê¸ˆ ë¹Œë“œ







***
<br>


    ğŸ’› ê°œì¸ ê³µë¶€ ê¸°ë¡ìš© ë¸”ë¡œê·¸ì…ë‹ˆë‹¤. ğŸ‘»

[ë§¨ ìœ„ë¡œ ì´ë™í•˜ê¸°](#){: .btn .btn--primary }{: .align-right}
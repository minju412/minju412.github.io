---
title:  "[Naem] QueryDSL을 이용해 Cursor 방식 무한스크롤 구현하기 "
# excerpt: "sprintf에 대해 알아보자"

categories:
  - Devlog
tags:
  - [Devlog]

toc: true
toc_sticky: true
 
date: 2022-08-25 11:59:51
last_modified_at: 2022-08-25 12:00:01
---

# QueryDSL 설정
## build.gradle
```
plugins {
    id 'org.springframework.boot' version '2.4.7'
    id 'io.spring.dependency-management' version '1.0.11.RELEASE'
    id 'java'

    // QueryDSL 추가
    id "com.ewerk.gradle.plugins.querydsl" version "1.0.10"
}
```

```
dependencies {

    ...

    // QueryDSL 추가
    implementation 'com.querydsl:querydsl-jpa:5.0.0'
    implementation "com.querydsl:querydsl-apt:5.0.0"
    implementation "com.querydsl:querydsl-core:5.0.0"
}
```

```
// QueryDSL 추가 시작
def querydslDir = "$buildDir/generated/querydsl"

querydsl {
    jpa = true
    querydslSourcesDir = querydslDir
}
sourceSets {
    main.java.srcDir querydslDir
}
compileQuerydsl {
    options.annotationProcessorPath = configurations.querydsl
}

configurations {
    compileOnly {
        extendsFrom annotationProcessor
    }
    querydsl.extendsFrom compileClasspath
}
// QueryDSL 추가 끝

```

## compileQuerydsl로 Q타입 객체 생성
[Gradle > Tasks > other]에서 "compileQuerydsl"을 더블클릭한다.<br>
<img width="348" alt="스크린샷 2022-08-25 오후 12 27 08" src="https://user-images.githubusercontent.com/59405576/186569118-3af13e15-fe37-4caa-a329-6240266658d9.png"><br>

(또는 `./gradlew clean compileQuerydsl` 명령으로 직접 생성한다.)

### 생성 전
<img width="409" alt="스크린샷 2022-08-25 오후 12 25 40" src="https://user-images.githubusercontent.com/59405576/186569105-359ccd5e-9609-41f3-a683-3e58ae1fb938.png"><br>

### 생성 후
아래 사진처럼 Q타입 객체가 생성되었음을 확인할 수 있다.<br>
<img width="403" alt="스크린샷 2022-08-25 오후 12 34 48" src="https://user-images.githubusercontent.com/59405576/186569127-68d25715-c689-4d15-84fe-089df0d44300.png"><br>

> 주의 🚨
Q타입 객체는 git에 등록되면 안된다. .gitignore에 등록되어야 한다. 디폴트로 등록되어 있을 것!<br>
앞서 설정에서 생성 위치를 gradle build 폴더 아래 생성되도록 했기 때문에 이 부분도 자연스럽게 해결된다. (대부분 gradle build 폴더를 git에 포함하지 않는다.)

## application.yml 설정
```yml
spring:
  data:
    web:
      pageable:
        default-page-size: 20 # 페이징 할 때 기본값, 20개씩 조회
```

# 코드 작성







# Ref.
- [https://velog.io/@mooh2jj/QueryDSL%EC%9D%84-%EC%82%AC%EC%9A%A9%ED%95%98%EB%8A%94-%EC%9D%B4%EC%9C%A0](https://velog.io/@mooh2jj/QueryDSL%EC%9D%84-%EC%82%AC%EC%9A%A9%ED%95%98%EB%8A%94-%EC%9D%B4%EC%9C%A0): compileQuerydsl로 Q객체 생성




***
<br>


    💛 개인 공부 기록용 블로그입니다. 👻

[맨 위로 이동하기](#){: .btn .btn--primary }{: .align-right}
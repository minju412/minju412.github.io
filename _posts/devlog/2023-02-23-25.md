---
title:  "[Spring Boot] ì¶”ê°€ ì„¤ì • íŒŒì¼ ì‚¬ìš©í•˜ê¸° (`aws-s3.yml`) "

categories:
  - Devlog
tags:
  - [Devlog]

toc: true
toc_sticky: true
 
date: 2023-02-23 16:20:43
last_modified_at: 2023-02-23 16:20:46
---

> [ì´ ê¸€](https://seungtaek-overflow.tistory.com/28)ì„ ì°¸ê³ í–ˆë‹¤.

í”„ë¡œì íŠ¸ê°€ ì»¤ì§€ë‹¤ë³´ë©´ í•„ìš”í•œ ì„¤ì • ê°’ë“¤ì´ ë§ì•„ì§€ëŠ”ë°, ìœ ì§€ë³´ìˆ˜ì„±ì„ ìœ„í•´ ìŠ¤í”„ë§ê³¼ ê´€ë ¨ëœ ì„¤ì •ë“¤ì€ `application.yml`ì—,<br>
ê·¸ ì™¸ í”„ë¡œì íŠ¸ì— í•„ìš”í•œ ì¶”ê°€ì ì¸ ì„¤ì • ê°’ì€ ì„¤ì • íŒŒì¼ì„ ë¶„ë¦¬í•´ì„œ ì‘ì„±í•˜ëŠ” ê²½ìš°ê°€ ë§ë‹¤.<br><br>
`application.yml`ì´ ìœ„ì¹˜í•œ `src/main/resources` ë””ë ‰í† ë¦¬ í•˜ìœ„ì— s3 ì—°ê²° ì •ë³´ê°€ ë‹´ê¸´ `aws-s3.yml`ê³¼ ê°™ì€ ì¶”ê°€ ì„¤ì • íŒŒì¼ì„ ìƒì„±í•˜ê³  <br>
í•„ìš”í•œ ì„¤ì • ê°’(`access-key`, `secret-key` ë“±..)ì„ ì‘ì„±í•´ë³´ì.<br><br>
ê·¸ë¦¬ê³  ìŠ¤í”„ë§ ë¶€íŠ¸ ğŸŒŸ"2.4 ì´í›„" ë²„ì „ì„ ê¸°ì¤€ìœ¼ë¡œ ì¶”ê°€ ì„¤ì • íŒŒì¼ì— ë“±ë¡ëœ ì„¤ì • ê°’ë“¤ì„ ë¶ˆëŸ¬ì˜¤ëŠ” ë°©ë²•ì„ ì•Œì•„ë³´ì.

> +) ì°¸ê³ <br>
ìŠ¤í”„ë§ ë¶€íŠ¸ "2.4 ì´ì „" ë²„ì „ì—ì„œëŠ” `spring.config.location`ì˜ ê°’ìœ¼ë¡œ `.yml` íŒŒì¼ë“¤ì˜ ìœ„ì¹˜ë¥¼ ì½¤ë§ˆ(`,`)ë¡œ ë¶„ë¦¬í•´ì„œ ë„˜ê²¨ì£¼ë©´ ëœë‹¤.<br>
(`@PropertySource`ëŠ” `.properties` ì„¤ì • íŒŒì¼ì„ ìœ„í•œ ì–´ë…¸í…Œì´ì…˜ì´ë¯€ë¡œ `.yml` ì„¤ì •íŒŒì¼ì„ ë¶ˆëŸ¬ì˜¤ëŠ”ë°ì—ëŠ” ì‚¬ìš©ë˜ì§€ ì•ŠëŠ”ë‹¤.)
```java
public class MyApplication {
    public static void main(String[] args) {
        new SpringApplicationBuilder(Application.class)
            .properties("spring.config.location=classpath:/application.yml,classpath:/aws-s3.yml")
            .run(args);
}
```
í…ŒìŠ¤íŠ¸ ì½”ë“œì—ì„œëŠ” ë‹¤ìŒê³¼ ê°™ì´ @SpringBootTest ì–´ë…¸í…Œì´ì…˜ì˜ propertiesì— ë™ì¼í•œ ê°’ì„ ë„˜ê²¨ì¤˜ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.
```java
@SpringBootTest(
    properties = "spring.config.location=classpath:/application.yml,classpath:/aws-s3.yml"
)
public class S3Test {
    // ...
}
```

# 1. `application.yml` ìˆ˜ì •

`application.yml`
```yml
spring:
  config:
    import:
      - aws-s3.yml
```

# 2. ì¶”ê°€ ì„¤ì • íŒŒì¼ ì‘ì„±

ğŸš¨ í•´ë‹¹ ë‚´ìš©ì€ ë¯¼ê°ì •ë³´ì´ë¯€ë¡œ ê¼­ `gitignore`ì— ë“±ë¡í•´ì£¼ì!<br>

`aws-s3.yml`
```yml
# === AWS S3 === #
cloud:
  aws:
    credentials:
      access-key: ******
      secret-key: ******
    s3:
      bucket: bucket-name
    region:
      static: ap-northeast-2
    stack:
      auto: false
```


















***
<br>


    ğŸ’› ê°œì¸ ê³µë¶€ ê¸°ë¡ìš© ë¸”ë¡œê·¸ì…ë‹ˆë‹¤. ğŸ‘»

[ë§¨ ìœ„ë¡œ ì´ë™í•˜ê¸°](#){: .btn .btn--primary }{: .align-right}
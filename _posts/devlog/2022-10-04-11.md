---
title:  "EC2 + Jenkinsë¥¼ ì´ìš©í•´ CI/CD êµ¬ì¶•í•˜ê¸° "

categories:
  - Devlog
tags:
  - [Devlog]

toc: true
toc_sticky: true
 
date: 2022-10-04 19:56:18
last_modified_at: 2022-10-04 19:56:21
---

# 0. ë¡œì»¬(mac)ì—ì„œ jenkins ì„¤ì¹˜
## 1) Jenkins ì„¤ì¹˜
brewë¥¼ í†µí•´ ì  í‚¨ìŠ¤ë¥¼ ì„¤ì¹˜í•œë‹¤.
```
$ brew install jenkins
```
ì  í‚¨ìŠ¤ë¥¼ ì„¤ì¹˜í•œë‹¤ìŒ ì•„ë˜ì˜ ëª…ë ¹ì–´ë¡œ ì  í‚¨ìŠ¤ë¥¼ ì œì–´í•  ìˆ˜ ìˆë‹¤. start ëª…ë ¹ì–´ë¥¼ í†µí•´ ì  í‚¨ìŠ¤ë¥¼ ì‹¤í–‰í•œë‹¤.
```
$ brew services start jenkins // ì  í‚¨ìŠ¤ ì‹œì‘
$ brew services stop jenkins // ì  í‚¨ìŠ¤ ì¢…ë£Œ
$ brew services restart jenkins //ì  í‚¨ìŠ¤ ì¬ì‹œì‘
```
<img width="458" alt="á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2022-10-04 á„‹á…©á„’á…® 8 29 49" src="https://user-images.githubusercontent.com/59405576/193808908-393755d6-fb3b-46ad-84bc-ad452416d4be.png">

### ì  í‚¨ìŠ¤(ì–´ë“œë¯¼í™”ë©´) í¬í„¸ ì„¤ì •
ì  í‚¨ìŠ¤ë¥¼ ì‹œì‘í•œ ë’¤ì— `localhost:8080`ì— ì ‘ì†í•˜ë©´, ì•„ë˜ì™€ ê°™ì´ ë‚˜ì˜¨ë‹¤.<br>
![á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2022-10-04 á„‹á…©á„’á…® 8 28 33](https://user-images.githubusercontent.com/59405576/193808492-739715fb-e426-4166-87fe-09945cb56522.png){: width="500" height="500"}<br>
Administrator passwordë¥¼ ì…ë ¥í•˜ë©´ ë˜ëŠ”ë°,<br>
íŒ¨ìŠ¤ì›Œë“œëŠ” ìœ„ ì‚¬ì§„ì— ë‚˜ì™€ìˆëŠ” ê²½ë¡œì— ìˆëŠ” íŒŒì¼ì„ ì—´ì–´ì„œ ë³µì‚¬ í›„ ì…ë ¥í•˜ë©´ ëœë‹¤.
```
$ cat /Users/minju/.jenkins/secrets/initialAdminPassword
```
<img width="427" alt="á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2022-10-04 á„‹á…©á„’á…® 8 31 08" src="https://user-images.githubusercontent.com/59405576/193809240-bd07e7ae-8b5e-4552-bd04-1ac686c8bfa8.png">

### í”ŒëŸ¬ê·¸ì¸ ì„¤ì¹˜ í™”ë©´
íŒ¨ìŠ¤ì›Œë“œë¥¼ ì…ë ¥ í›„ ì•„ë˜ì™€ ê°™ì´ í”ŒëŸ¬ê·¸ì¸ ì„¤ì¹˜í™”ë©´ì´ ë‚˜ì˜¤ëŠ”ë° íŠ¹ë³„íˆ ì„¤ì¹˜í•  í”ŒëŸ¬ê·¸ì¸ì´ í•„ìš”ì—†ë‹¤ë©´ install suggested pluginsë¥¼ ì„ íƒí•œë‹¤.<br>
![á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2022-10-04 á„‹á…©á„’á…® 8 34 28](https://user-images.githubusercontent.com/59405576/193809678-4c6d076e-4f4a-45e7-8fe8-e2f405ee8826.png){: width="500" height="500"}<br>
ê·¸ëŸ¼ ì•„ë˜ì²˜ëŸ¼ Getting Started í˜ì´ì§€ê°€ ë‚˜ì˜¬ ê²ƒì´ë‹¤. ì ì‹œ ê¸°ë‹¤ë¦¬ì.<br>
![á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2022-10-04 á„‹á…©á„’á…® 8 35 10](https://user-images.githubusercontent.com/59405576/193809804-f85b1777-f1f0-49f2-a0c3-cd6a18964d48.png){: width="500" height="500"}

### Admin ê³„ì • ìƒì„±
ê¸°ë‹¤ë¦¬ë©´ ì´ë ‡ê²Œ Admin ì‚¬ìš©ìë¥¼ ìƒì„±í•˜ëŠ” í˜ì´ì§€ê°€ ë‚˜ì˜¤ëŠ”ë°, Admin ì‚¬ìš©ìë¥¼ ìƒì„±í•˜ê³  ë‹¤ìŒ í™”ë©´ì„ ëˆ„ë¥´ë©´ Jenkins í™”ë©´ì´ ë³´ì´ëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤.<br>
![á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2022-10-04 á„‹á…©á„’á…® 8 40 15](https://user-images.githubusercontent.com/59405576/193810618-7654bddd-cfca-495a-9128-a6247c1e3450.png){: width="500" height="500"}

### Instance Configuration
ë§ˆì§€ë§‰ìœ¼ë¡œ ì  í‚¨ìŠ¤ì˜ TCP í¬íŠ¸ë¥¼ ì•ìœ¼ë¡œë„ ê³„ì† ê°™ì€ í¬íŠ¸ë¥¼ ì“¸ ê²ƒì¸ì§€ ë¬¼ì–´ë³¸ë‹¤.<br>
ë‚˜ëŠ” 9090ìœ¼ë¡œ ë³€ê²½í–ˆë‹¤.<br>
![á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2022-10-04 á„‹á…©á„’á…® 8 49 19](https://user-images.githubusercontent.com/59405576/193812147-63dff917-d33b-4a9a-9f6e-f81019259733.png){: width="500" height="500"}

### ë
ì´ì œ ì„¤ì •ì´ ëë‚¬ë‹¤. Start using Jenkinsë¥¼ ëˆ„ë¥´ì.<br>
![á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2022-10-04 á„‹á…©á„’á…® 8 51 42](https://user-images.githubusercontent.com/59405576/193812599-6d380d79-123e-4fcb-ad30-043c55eec549.png)<br>
ê·¸ëŸ¼ ì•„ë˜ì™€ ê°™ì€ ëŒ€ì‹œë³´ë“œê°€ ë‚˜ì˜¨ë‹¤.<br>
![á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2022-10-04 á„‹á…©á„’á…® 8 52 56](https://user-images.githubusercontent.com/59405576/193812824-f32c2a1f-17e8-4b67-a223-3d50c82c80ed.png){: width="500" height="500"}

## 2) ì™¸ë¶€ IPë¡œ ì ‘ê·¼ ê°€ëŠ¥í•˜ë„ë¡ ì„¤ì •
í•´ë‹¹ Mac í˜¸ìŠ¤íŠ¸ë¥¼ CI ì „ìš© ì„œë²„ë¡œ ì“°ëŠ” ê²½ìš° localhost:8080 ì´ì™¸ì˜ ë„ë©”ì¸ì´ë‚˜ ê³µì¸IP, ì™¸ë¶€ IPë¡œ ì ‘ì†í•˜ê¸°ë¥¼ ì›í•  ìˆ˜ ìˆë‹¤. <br>
ì´ëŸ´ê²½ìš° `/usr/local/opt/jenkins/homebrew.mxcl.jenkins.plist` íŒŒì¼ --httpListenAddress ê°’ì„ <br>
127.0.0.1ì—ì„œ ì•„ë˜ì™€ ê°™ì´ 0.0.0.0ìœ¼ë¡œ ë³€ê²½í•´ì•¼í•œë‹¤. ê·¸ë˜ì•¼ ê³µì¸IPë˜ëŠ” ì‚¬ì„¤ IPë¡œ ì ‘ê·¼ ê°€ëŠ¥í•˜ë‹¤.
```bash
<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE plist PUBLIC "-//Apple//DTD PLIST 1.0//EN" "http://www.apple.com/DTDs/PropertyList-1.0.dtd">
<plist version="1.0">
  <dict>
    <key>Label</key>
    <string>homebrew.mxcl.jenkins</string>
    <key>ProgramArguments</key>
    <array>
      <string>/usr/libexec/java_home</string>
      <string>-v</string>
      <string>1.8</string>
      <string>--exec</string>
      <string>java</string>
      <string>-Dmail.smtp.starttls.enable=true</string>
      <string>-jar</string>
      <string>/usr/local/opt/jenkins/libexec/jenkins.war</string>
      <string>--httpListenAddress=0.0.0.0</string> 
      <string>--httpPort=8888</string>
    </array>
    <key>RunAtLoad</key>
    <true/>
  </dict>
</plist>
```


===================

# 1. EC2 ubuntuì—ì„œ jenkins ì„¤ì¹˜
## jenkins ì„¤ì¹˜
```bash
# ì  í‚¨ìŠ¤ ì €ì¥ì†Œ í‚¤ ì„¤ì •
$ wget -q -O - https://pkg.jenkins.io/debian/jenkins.io.key | sudo apt-key add -

# ì  í‚¨ìŠ¤ ì €ì¥ì†Œ ëª©ë¡ ê°±ì‹ 
sudo sh -c 'echo deb http://pkg.jenkins.io/debian-stable binary/ | sudo tee /etc/apt/sources.list.d/jenkins.list'

# ì„¤ì¹˜ëª©ë¡ ìµœì‹  ê°±ì‹ 
$ sudo apt-get update

# Java Install
$ sudo apt-get install openjdk-8-jdk

# Jenkins Install
$ sudo apt-get install jenkins
```
java ì„¤ì¹˜ëŠ” java11ì´ ì´ë¯¸ ì„¤ì¹˜ë˜ì–´ ìˆì–´ í•˜ì§€ ì•Šì•˜ëŠ”ë°, jenkins ì„¤ì¹˜ì—ì„œ ì—ëŸ¬ê°€ ë°œìƒí–ˆë‹¤.. java8ì„ ë‹¤ì‹œ ì„¤ì¹˜í–ˆë‹¤.<br>
<img width="998" alt="á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2022-10-04 á„‹á…©á„’á…® 10 41 12" src="https://user-images.githubusercontent.com/59405576/193835033-979020f8-7cf2-4e77-901b-8378c28ceb87.png"><br>{: width="500" height="500"}

### ì—ëŸ¬ ë°œìƒ
jenkinë¥¼ ì„¤ì¹˜í•  ë•Œ ì•„ë˜ì™€ ê°™ì€ ì—ëŸ¬ê°€ ë°œìƒí–ˆë‹¤..<br>
<img width="805" alt="á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2022-10-04 á„‹á…©á„’á…® 10 52 17" src="https://user-images.githubusercontent.com/59405576/193837689-8fa99f42-04d6-4cf6-9cbc-31274b62ca97.png"><br><br>
ê¸°ë³¸ ìë°” ë²„ì „ì´ java 11ë¡œ ì„¤ì •ë˜ì–´ ìˆì—ˆëŠ”ë° ì´ë¥¼ java 8ë¡œ ë°”ê¾¸ì—ˆë‹¤.<br>

```bash
# java ë²„ì „ ë³€ê²½
$ sudo update-alternatives --config java 

# javac ë²„ì „ ë³€ê²½
$ sudo update-alternatives --config javac
```
<img width="874" alt="á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2022-10-04 á„‹á…©á„’á…® 10 51 50" src="https://user-images.githubusercontent.com/59405576/193837686-999f33cd-4420-4f04-b2d8-e61cf9c12d4f.png"><br><br>
<img width="860" alt="á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2022-10-04 á„‹á…©á„’á…® 11 05 40" src="https://user-images.githubusercontent.com/59405576/193841051-b7ebe70b-924e-4807-a373-481d4f0dadd4.png">

### ë‹¤ë¥¸ ì—ëŸ¬ ë°œìƒ
ë²„ì „ì„ ë³€ê²½í•˜ë‹ˆ ì´ë²ˆì—ëŠ” ë˜ ë‹¤ë¥¸ ì—ëŸ¬ê°€ ë°œìƒí–ˆë‹¤..<br>
<img width="787" alt="á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2022-10-04 á„‹á…©á„’á…® 11 12 16" src="https://user-images.githubusercontent.com/59405576/193842535-87163aa9-3204-4c33-a8de-6ec4c0586dc3.png"><br>

ì´ë²ˆì—ëŠ” í¬íŠ¸ë²ˆí˜¸(`HTTP_PORT`)ë¥¼ 8080ì—ì„œ 9090ìœ¼ë¡œ ë°”ê¿”ë´¤ë‹¤.<br>
```bash
$ sudo vi /etc/init.d/jenkins
$ sudo vi /etc/default/jenkins
```
<img width="396" alt="á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2022-10-04 á„‹á…©á„’á…® 11 18 21" src="https://user-images.githubusercontent.com/59405576/193843974-a461d514-143a-4536-9213-3712ea443e76.png"><br>
í•´ê²°ë˜ì§€ ì•Šì•„ì„œ ë‹¤ì‹œ ì›ë˜ëŒ€ë¡œ ë°”ê¿¨ë‹¤.

### ì„±ê³µ!!!
[ì—¬ê¸°ì„œ](https://euriion.com/?p=413340) jenkinsê°€ openjdk-11ì—ì„œ ì‘ë™í•œë‹¤ê³  í•´ì„œ, javaì™€ javac ë²„ì „ì„ ë‹¤ì‹œ 11ë¡œ ë°”ê¿¨ë‹¤.<br>
ê·¸ë¦¬ê³  í¬íŠ¸ ë²ˆí˜¸ë¥¼ ë‹¤ì‹œ 9090ìœ¼ë¡œ ë°”ê¾¸ë‹ˆ ì„±ê³µí–ˆë‹¤!!<br>
<img width="472" alt="á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2022-10-04 á„‹á…©á„’á…® 11 37 14" src="https://user-images.githubusercontent.com/59405576/193848636-e02b8be9-8dbb-402f-93c3-0fbdb34d1451.png"><br><br>

jenkins ì„¤ì¹˜ í›„ ì„œë¹„ìŠ¤ ì‹¤í–‰ ë° ìƒíƒœ í™•ì¸
```bash
$ sudo service jenkins start
$ sudo service jenkins enable # ì¬ë¶€íŒ… ì‹œì—ë„ ìë™ ì‹¤í–‰
$ sudo service jenkins status # activeë¼ê³  í‘œì‹œë˜ë©´ ì‹¤í–‰ë˜ê³  ìˆëŠ” ìƒíƒœì„
```

ê·¼ë° ì—¬ê¸°ê¹Œì§€ë§Œ í•˜ë©´, ì  í‚¨ìŠ¤ê°€ ì‘ë™ì¤‘ì„ì—ë„ ì ‘ì†ë˜ì§€ ì•Šì„ ê²ƒì´ë‹¤.

## AWS í¬íŠ¸ ë²ˆí˜¸ ì—´ì–´ì£¼ê¸°
EC2 ë³´ì•ˆê·¸ë£¹ì—ì„œ 9090ë²ˆ í¬íŠ¸ë¥¼ ì—´ì–´ì£¼ì–´ì•¼ í•œë‹¤.<br>
![á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2022-10-04 á„‹á…©á„’á…® 11 42 55](https://user-images.githubusercontent.com/59405576/193850031-c1f266d4-deb8-4163-9f33-1177cc342491.png)

# 2. ì  í‚¨ìŠ¤ ì ‘ì† ë° ì„¤ì •
## íŒ¨ìŠ¤ì›Œë“œ ì…ë ¥
![á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2022-10-04 á„‹á…©á„’á…® 11 43 59](https://user-images.githubusercontent.com/59405576/193850463-dde67826-8368-429d-81fd-bbfdde242bef.png){: width="500" height="500"}<br>
ec2 ì¸ìŠ¤í„´ìŠ¤ì—ì„œ ìœ„ ì‚¬ì§„ì— ë³´ì´ëŠ” ê²½ë¡œë¡œ ì´ë™í•´ ë¹„ë°€ë²ˆí˜¸ë¥¼ í™•ì¸í•œë‹¤.<br>
permission deniedê°€ ëœ¬ë‹¤ë©´ sudoë¥¼ ë¶™ì´ì!
```bash
$ cat /var/lib/jenkins/secrets/initialAdminPassword
```
<img width="588" alt="á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2022-10-04 á„‹á…©á„’á…® 11 46 37" src="https://user-images.githubusercontent.com/59405576/193850996-783fc139-8c3c-4e1a-8cc4-3eaae082286a.png"><br>

## í”ŒëŸ¬ê·¸ì¸ ì„¤ì¹˜ í™”ë©´
íŒ¨ìŠ¤ì›Œë“œë¥¼ ì…ë ¥ í›„ ì•„ë˜ì™€ ê°™ì´ í”ŒëŸ¬ê·¸ì¸ ì„¤ì¹˜í™”ë©´ì´ ë‚˜ì˜¤ëŠ”ë° íŠ¹ë³„íˆ ì„¤ì¹˜í•  í”ŒëŸ¬ê·¸ì¸ì´ í•„ìš”ì—†ë‹¤ë©´ install suggested pluginsë¥¼ ì„ íƒí•œë‹¤.<br>
![á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2022-10-04 á„‹á…©á„’á…® 11 48 09](https://user-images.githubusercontent.com/59405576/193851421-0bd60061-605b-41ad-bf58-cfc9478f317a.png){: width="500" height="500"}<br><br>
ê·¸ëŸ¼ ì•„ë˜ì²˜ëŸ¼ Getting Started í˜ì´ì§€ê°€ ë‚˜ì˜¬ ê²ƒì´ë‹¤. ì ì‹œ ê¸°ë‹¤ë¦¬ì.<br>
![á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2022-10-04 á„‹á…©á„’á…® 11 48 52](https://user-images.githubusercontent.com/59405576/193851543-a33f7b7d-7888-4bdb-a74f-86bc0f1e9d4e.png){: width="500" height="500"}

## Admin ê³„ì • ìƒì„±
ê¸°ë‹¤ë¦¬ë©´ ì´ë ‡ê²Œ Admin ì‚¬ìš©ìë¥¼ ìƒì„±í•˜ëŠ” í˜ì´ì§€ê°€ ë‚˜ì˜¤ëŠ”ë°, Admin ì‚¬ìš©ìë¥¼ ìƒì„±í•˜ê³  ë‹¤ìŒ í™”ë©´ì„ ëˆ„ë¥´ë©´ Jenkins í™”ë©´ì´ ë³´ì´ëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤.<br>


## Instance Configuration
ë§ˆì§€ë§‰ìœ¼ë¡œ ì  í‚¨ìŠ¤ì˜ TCP í¬íŠ¸ë¥¼ ì•ìœ¼ë¡œë„ ê³„ì† ê°™ì€ í¬íŠ¸ë¥¼ ì“¸ ê²ƒì¸ì§€ ë¬¼ì–´ë³¸ë‹¤.<br>


ì´ì œ ì„¤ì •ì´ ëë‚¬ë‹¤. Start using Jenkinsë¥¼ ëˆ„ë¥´ì.<br>
![á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2022-10-04 á„‹á…©á„’á…® 8 51 42](https://user-images.githubusercontent.com/59405576/193812599-6d380d79-123e-4fcb-ad30-043c55eec549.png)<br>
ê·¸ëŸ¼ ì•„ë˜ì™€ ê°™ì€ ëŒ€ì‹œë³´ë“œê°€ ë‚˜ì˜¨ë‹¤.<br>
![á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2022-10-04 á„‹á…©á„’á…® 8 52 56](https://user-images.githubusercontent.com/59405576/193812824-f32c2a1f-17e8-4b67-a223-3d50c82c80ed.png){: width="500" height="500"}


============



# 3. gradle ì„¤ì¹˜
```bash
$ mkdir /opt/gradle
$ unzip -d /opt/gradle gradle-6.9.1-bin.zip
$ ls /opt/gradle/gradle-6.9.1

$ export PATH=$PATH:/opt/gradle/gradle-6.9.1/bin
$ gradle -version
```

# 4. git ì„¤ì¹˜
```bash
$ sudo yum update -y
$ sudo yum install git -y
$ git version
```















## Ref.
- [https://velog.io/@sa1341/Jenkins-SSH%EB%A5%BC-%EC%9D%B4%EC%9A%A9%ED%95%9C-GitHub-%EC%97%B0%EB%8F%99%EB%B0%A9%EB%B2%95](https://velog.io/@sa1341/Jenkins-SSH%EB%A5%BC-%EC%9D%B4%EC%9A%A9%ED%95%9C-GitHub-%EC%97%B0%EB%8F%99%EB%B0%A9%EB%B2%95)
- [https://wan-blog.tistory.com/74?category=776763](https://wan-blog.tistory.com/74?category=776763)
- [https://blog.naver.com/PostView.nhn?blogId=sharplee7&logNo=221429164857](https://blog.naver.com/PostView.nhn?blogId=sharplee7&logNo=221429164857) - í¬íŠ¸ ë²ˆí˜¸
- [https://intrepidgeeks.com/tutorial/deploy-aws-jenkins](https://intrepidgeeks.com/tutorial/deploy-aws-jenkins) - ì  í‚¨ìŠ¤ ì„¤ì¹˜




***
<br>


    ğŸ’› ê°œì¸ ê³µë¶€ ê¸°ë¡ìš© ë¸”ë¡œê·¸ì…ë‹ˆë‹¤. ğŸ‘»

[ë§¨ ìœ„ë¡œ ì´ë™í•˜ê¸°](#){: .btn .btn--primary }{: .align-right}
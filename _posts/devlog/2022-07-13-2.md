---
title:  "[Naem] intellij - checkstyleê³¼ formatter ì…‹ì—…í•˜ê¸° "
# excerpt: "sprintfì— ëŒ€í•´ ì•Œì•„ë³´ì"

categories:
  - Devlog
tags:
  - [Devlog]

toc: true
toc_sticky: true
 
date: 2022-07-13 01:45:51
last_modified_at: 2022-07-13 01:45:54
---

# 1. ì¤€ë¹„
## ì½”ë“œë¥¼ ë‹¤ìš´ë¡œë“œ ë°›ëŠ”ë‹¤.
[ê¹ƒí—ˆë¸Œ](https://github.com/naver/hackday-conventions-java/tree/master/rule-config)ì—ì„œ ë‘ ê°œì˜ íŒŒì¼ì„ ë‹¤ìš´ë¡œë“œ ë°›ëŠ”ë‹¤.

- `naver-intellij-formatter.xml`
- `naver-checkstyle-rules.xml`

## íŒŒì¼ì„ í”„ë¡œì íŠ¸ í´ë” ìµœìƒë‹¨ì— ë„£ì–´ì¤€ë‹¤.
<img width="415" alt="á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2022-07-13 á„‹á…©á„Œá…¥á†« 1 48 15" src="https://user-images.githubusercontent.com/59405576/178548300-5bf61870-ceb6-4936-935b-135427a6b7c4.png"><br>

# 2. formatter ì ìš©
## Intellijì˜ ì½”ë“œ ìŠ¤íƒ€ì¼ì„ naver-coding-convention í˜•ì‹ìœ¼ë¡œ ë³€ê²½í•œë‹¤.
1. `Preference` - `Editor` - `Code Style` - `Java`ì— ë“¤ì–´ê°€ë©´ ì•„ë˜ ì‚¬ì§„ì²˜ëŸ¼ ë‚˜ì˜¨ë‹¤.<br>
![á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2022-07-13 á„‹á…©á„Œá…¥á†« 1 51 35](https://user-images.githubusercontent.com/59405576/178548918-baae2e31-9ec4-4c90-81b9-ef245e25fccf.png)
2. ë…¸ë€ìƒ‰ ë™ê·¸ë¼ë¯¸ ì¹œ í†±ë‹ˆë°”í€´ë¥¼ ëˆ„ë¥´ê³  `Import Scheme` -> `IntelliJ IDEA code style XMl` ì„ í´ë¦­í•œë‹¤.
3. í”„ë¡œì íŠ¸ì—ì„œ ì•„ê¹Œ ë‹¤ìš´ë°›ì€ `naver-intellij-formatter.xml` ì„ ì°¾ì•„ì„œ opení•œë‹¤.
4. ì£¼í™©ìƒ‰ ë™ê·¸ë¼ë¯¸ì— ì²´í¬ë˜ì–´ ìˆìœ¼ë©´ ì—†ì• ì¤€ë‹¤. ğŸŒŸ
5. `Tab size`ì™€ `Indent`ê°€ 4ì¸ê±¸ í™•ì¸í•´ì£¼ê³  OKë¥¼ ëˆ„ë¥¸ë‹¤.

## formatter ë‹¨ì¶•í‚¤
mac OS ê¸°ì¤€ìœ¼ë¡œ,
- `cmd`+`option`+`L` : code format ë§ì¶”ê¸°
- `ctrl`+`option`+`O` : ë¶ˆí•„ìš”í•œ import ì œê±° ë° import ìˆœì„œ ì¬ë°°ì¹˜

# 3. CheckStyle ì—°ë™
CheckStyleì´ë€, ì´ë¯¸ ë§Œë“¤ì–´ì§„ ì½”ë“œê°€ "ë„¤ì´ë²„ í•µë°ì´ Java ì½”ë”© ì»¨ë²¤ì…˜"ì— ë§ê²Œ ì‘ì„±ë˜ì—ˆëŠ”ì§€ ê²€ì‚¬í•˜ëŠ” ë„êµ¬ì´ë‹¤.

## `naver-checkstyle-rules.xml` ì½”ë“œ ë³€ê²½
![á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2022-07-13 á„‹á…©á„Œá…¥á†« 1 57 12](https://user-images.githubusercontent.com/59405576/178549842-3fb670ad-763d-4cb6-b58d-73d40e3d8364.png)<br>
ì½”ë“œ ë³€ê²½ì— ì•ì„œì„œ, ë§Œì•½ ìœ„ ì‚¬ì§„ì—ì„œ ë°‘ì¤„ ì¹œ ë¶€ë¶„ì´ ë¹¨ê°›ê²Œ ëœ¬ë‹¤ë©´, `option` + `enter`ë¥¼ ëˆŒëŸ¬ì„œ `Fetch external resource`ë¥¼ í´ë¦­í•œë‹¤.<br><br>
ì´ì œ ì½”ë“œë¥¼ ë³€ê²½í•´ë³´ì.

### 1) í•´ë‹¹ ë¶€ë¶„ì„ ì°¾ì•„ì„œ ì§€ì›Œì¤€ë‹¤. 
CheckBoxë¥¼ ì ìš©í•˜ì§€ ì•Šì„ ì˜ˆì™¸ íŒŒì¼ì„ ì„¤ì •í•´ì£¼ëŠ” ëª¨ë“ˆì¸ë° í•„ìš”ì—†ë‹¤.
```xml
<!--- Suppression -->
	<module name="SuppressionFilter">
		<property name="file" value="${suppressionFile}"/>
		<property name="optional" value="true"/>
	</module>
```

### 2) í•´ë‹¹ ë¶€ë¶„ë„ ì§€ì›Œì¤€ë‹¤.
ìš°ë¦¬ëŠ” ë“¤ì—¬ì“°ê¸°ë¥¼ 4space ë°©ì‹ì„ ì‚¬ìš©í•˜ëŠ”ë°, CheckBoxëŠ” ê¸°ë³¸ìœ¼ë¡œ tab ë°©ì‹ì„ ì§€ì›í•˜ê¸° ë•Œë¬¸ì— ì´ê±¸ ë³€ê²½í•˜ë ¤ëŠ” ê²ƒì´ë‹¤.

```xml
<!-- [indentation-tab] -->
<module name="RegexpSinglelineJava">
    <property name="format" value="^\t* "/>
    <property name="message" value="[indentation-tab] Indent must use tab characters"/>
    <property name="ignoreComments" value="true"/>
</module>
```

### 3) ì´ì œ tab ë°©ì‹ìœ¼ë¡œ ë˜ì–´ìˆìœ¼ë©´ ì˜¤ë¥˜ê°€ í‘œì‹œë˜ëŠ” ëª¨ë“ˆì„ ë„£ì–´ì¤€ë‹¤.
```xml
<module name="FileTabCharacter">
    <property name="eachLine" value="true"/>
</module>
```
ê·¸ëŸ°ë° ìœ„ì¹˜ê°€ ì¤‘ìš”í•˜ë‹¤!ğŸš¨
```xml
<module name="TreeWalker">
blabla....
</module>
<module name="FileTabCharacter">
    <property name="eachLine" value="true"/>
</module>
```
ì´ëŸ° ì‹ìœ¼ë¡œ FileTabCharacterë¥¼ TreeWalker ë°”ê¹¥ì— ìœ„ì¹˜ì‹œì¼œì•¼ í•œë‹¤. 

## `CheckStyle-IDEA` í”ŒëŸ¬ê·¸ì¸ì„ ë‹¤ìš´ë¡œë“œ
`Preference` - `Plugins` ì—ì„œ `CheckStyle-IDEA` í”ŒëŸ¬ê·¸ì¸ì„ ë‹¤ìš´ë¡œë“œí•œë‹¤.<br>
![á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2022-07-13 á„‹á…©á„Œá…¥á†« 2 03 53](https://user-images.githubusercontent.com/59405576/178550893-f97c5ca5-0467-4e14-96b1-3ae155d5fee1.png)

## `naver-checkstyle-rules.xml` ì¶”ê°€
`Preference` - `Tools` - `Checkstyle`ì—ì„œ ë²„ì „ì„ 8.24 ì´ìƒìœ¼ë¡œ, Scan Scopeë¥¼ All sources(including tests)ë¡œ ë§ì¶”ê³ , <br>
`+` ë¥¼ ëˆŒëŸ¬, ìœ„ì—ì„œ í¸ì§‘í•´ì¤€ `naver-checkstyle-rules.xml` ë¥¼ ì¶”ê°€í•´ì¤€ë‹¤. <br>
![á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2022-07-13 á„‹á…©á„Œá…¥á†« 2 05 14](https://user-images.githubusercontent.com/59405576/178551115-1f402750-14fc-4523-a0e9-099377691276.png)

## CheckStyle ì‚¬ìš© ë°©ë²•
### 1) intellijì—ì„œ ì›í•˜ëŠ” íŒŒì¼ì— ëŒë¦¬ê¸°
<img width="1423" alt="á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2022-07-13 á„‹á…©á„Œá…¥á†« 2 12 18" src="https://user-images.githubusercontent.com/59405576/178552495-6b36254c-4618-45ec-b141-02e571c42351.png">

í•˜ë‹¨ì˜ checkstyleì„ ëˆ„ë¥¸ ë’¤ì— ì¢Œì¸¡ ì´ˆë¡ìƒ‰ ì¬ìƒ ë²„íŠ¼ì„ ëˆ„ë¥´ë©´, checkstyleì— ë§ì§€ ì•ŠëŠ” ë¶€ë¶„ì´ ê²½ê³ ë¡œ ëœ¬ë‹¤.<br>
ì´ ê²½ìš°ì— formatter ë‹¨ì¶•í‚¤ì¸ `cmd`+`option`+`L`ì„ ëˆ„ë¥´ë©´ ìë™ìœ¼ë¡œ ì½”ë“œë¥¼ ì•Œë§ê²Œ formatting í•´ì¤€ë‹¤.<br>
ì„í¬íŠ¸ì— ê²½ê³ ê°€ í‘œì‹œë˜ì–´ ìˆë‹¤ë©´, `ctrl`+`option`+`O`ë¡œ ì¬ë°°ì¹˜ ê°€ëŠ¥í•˜ë‹¤. 

### 2) commit ì‹œì— checkstyle ê²€ì‚¬í•˜ê¸°








# Ref.
- [https://iamtaehoon.tistory.com/191](https://iamtaehoon.tistory.com/191)
- [https://juneyr.dev/checkstyle](https://juneyr.dev/checkstyle)


***
<br>


    ğŸ’› ê°œì¸ ê³µë¶€ ê¸°ë¡ìš© ë¸”ë¡œê·¸ì…ë‹ˆë‹¤. ğŸ‘»

[ë§¨ ìœ„ë¡œ ì´ë™í•˜ê¸°](#){: .btn .btn--primary }{: .align-right}
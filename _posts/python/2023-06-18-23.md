---
title:  "[Python] defaultdict() "

categories:
  - Python
tags:
  - [Python]

toc: true
toc_sticky: true
 
date: 2023-06-18 15:49:23
last_modified_at: 2023-06-18 15:49:25
---

# ì´ë¡ 
> [ì´ ê¸€](https://dongdongfather.tistory.com/69)ì„ ì°¸ê³ í–ˆë‹¤.

defaultdict()ëŠ” ë”•ì…”ë„ˆë¦¬ë¥¼ ë§Œë“œëŠ” dict í´ë˜ìŠ¤ì˜ ì„œë¸Œ í´ë˜ìŠ¤ì´ë‹¤.<br>
ì‘ë™í•˜ëŠ” ë°©ì‹ì€ ê±°ì˜ ë™ì¼í•œë°, defaultdict()ëŠ” ì¸ìë¡œ ì£¼ì–´ì§„ ê°ì²´(default-factory)ì˜ ê¸°ë³¸ê°’ì„ ë”•ì…”ë„ˆë¦¬ì˜ ì´ˆê¸°ê°’ìœ¼ë¡œ ì§€ì €í•  ìˆ˜ ìˆë‹¤.<br>
`int`, `list`, `set` ë“±ìœ¼ë¡œ ì´ˆê¸°í™” í•  ìˆ˜ ìˆê¸° ë•Œë¬¸ì— ì—¬ëŸ¬ ìš©ë„ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.

## `defaultdict(int)`

```py
from collections import defaultdict # âœ… ì™¸ë¶€í•¨ìˆ˜ì´ê¸° ë•Œë¬¸ì— import í•´ì•¼ í•œë‹¤

int_dic = defaultdict(int)
print(int_dic) # defaultdict(<class 'int'>, {})
```
`defaultdict(int)`ìœ¼ë¡œ ë””í´íŠ¸ ê°’ì´ intì¸ ë”•ì…”ë„ˆë¦¬ë¥¼ ìƒì„±í•  ìˆ˜ ìˆë‹¤.

```py
int_dic['key1']
print(int_dic['key1']) # 0
print(int_dic) # defaultdict(<class 'int'>, {'key1': 0})

int_dic['key2'] = 'test'
print(int_dic['key2']) # test
print(int_dic) # defaultdict(<class 'int'>, {'key1': 0, 'key2': 'test})
```
ìœ„ì™€ ê°™ì´ ì§€ì •í•˜ì§€ ì•Šì€ í‚¤ëŠ” ê·¸ ê°’ì´ 0ìœ¼ë¡œ ì €ì¥ë˜ê³ ,<br>
í‚¤ì— ëª…ì‹œì ìœ¼ë¡œ ê°’ì„ ì§€ì •í•˜ë©´ ê·¸ ê°’ì´ ì €ì¥ëœë‹¤.


## `defaultdict(list)`

```py
from collections import defaultdict

lst_dic = defaultdict(list)
print(lst_dic) # defaultdict(<class 'list'>, {})

lst_dic['key1'] # ê°’ì„ ì§€ì •í•˜ì§€ ì•Šìœ¼ë©´ ë¹ˆ ë¦¬ìŠ¤íŠ¸ë¡œ ì´ˆê¸°í™”
print(lst_dic['key1']) # []
print(lst_dic) # defaultdict(<class 'list'>, {'key1': []})

lst_dic['key2'].append('test1') # âœ… ì¡´ì¬í•˜ì§€ ì•ŠëŠ” key2ì— ëŒ€í•´ ë°”ë¡œ append ê°€ëŠ¥
lst_dic['key2'].append('test2')
print(lst_dic['key2']) # ['test1', 'test2']
print(lst_dic) # defaultdict(<class 'list'>, {'key1': [], 'key2': ['test1', 'test2']})
```
ë§ˆì°¬ê°€ì§€ë¡œ `defaultdict(list)`ìœ¼ë¡œ ë””í´íŠ¸ ê°’ì´ listì¸ ë”•ì…”ë„ˆë¦¬ë¥¼ ìƒì„±í•  ìˆ˜ ìˆë‹¤.


## `defaultdict(set)`

```py
from collections import defaultdict

set_dic = defaultdict(set)
print(set_dic) # defaultdict(<class 'set'>, {})

set_dic['key1'] # ê°’ì„ ì§€ì •í•˜ì§€ ì•Šìœ¼ë©´ ë¹ˆ ì…‹ìœ¼ë¡œ ì´ˆê¸°í™”
print(set_dic['key1']) # set()
print(set_dic) # defaultdict(<class 'set'>, {'key1': set()})

set_dic['key2'] = 'test'
print(set_dic['key2']) # test
print(set_dic) # defaultdict(<class 'set'>, {'key1': set(), 'key2': 'test'})
```
ë§ˆì°¬ê°€ì§€ë¡œ `defaultdict(list)`ìœ¼ë¡œ ë””í´íŠ¸ ê°’ì´ listì¸ ë”•ì…”ë„ˆë¦¬ë¥¼ ìƒì„±í•  ìˆ˜ ìˆë‹¤.


# í™œìš©

ë”•ì…”ë„ˆë¦¬ì˜ valueë¡œ ë¦¬ìŠ¤íŠ¸ë¥¼ ì‚¬ìš©í•˜ê³  ì‹¶ì€ ê²½ìš°,<br>
ê° í‚¤ì— ëŒ€í•´ ë¹ˆ ë¦¬ìŠ¤íŠ¸ë¡œ ì´ˆê¸°í™” í•´ì£¼ì§€ ì•Šìœ¼ë©´ ì—ëŸ¬ê°€ ë°œìƒí•œë‹¤.

## ê¸°ëŒ€í•˜ëŠ” ê²ƒ
ì•„ë˜ì²˜ëŸ¼ ë”•ì…”ë„ˆë¦¬ì˜ value ê°’ì„ ë¦¬ìŠ¤íŠ¸ íƒ€ì…ìœ¼ë¡œ ë§Œë“¤ê³  ì‹¶ë‹¤.
```
dic = {
  'apple': [1,2,3],
  'banana': [4,5]
}
```

## ì—ëŸ¬ê°€ ë°œìƒí•˜ëŠ” ê²½ìš°
```py
dic = dict()

dic['apple'].append(1) # 'apple'ì´ë¼ëŠ” í‚¤ê°€ ì—†ê¸° ë•Œë¬¸ì— append ì—ëŸ¬ ë°œìƒ
```

### í•´ê²° 1. ë¹ˆ ë¦¬ìŠ¤íŠ¸ë¡œ ì´ˆê¸°í™”
```py
keys = ['apple', 'banana'] ì˜ í‚¤ ê°’ì´ ì£¼ì–´ì§„ë‹¤ë©´

dic = dict() # âœ… dict() ì´ìš©

for val in range(keys):
  dic[val] = [] # âœ… ë¹ˆ ë¦¬ìŠ¤íŠ¸ ì´ˆê¸°í™”

dic['apple'].append(1) # ì—ëŸ¬ê°€ ë°œìƒí•˜ì§€ ì•ŠëŠ”ë‹¤
```


### í•´ê²° 2. defaltdict ì‚¬ìš©
ğŸŒŸ defaltdictë¥¼ ì´ìš©í•´ì„œ ë” ê°„ë‹¨í•˜ê²Œ ì—ëŸ¬ë¥¼ í•´ê²°í•  ìˆ˜ ìˆë‹¤!
```py
from collections import defaultdict

dic = defaultdict(list) # âœ… defaultdict() ì´ìš© # list ìë£Œí˜•ìœ¼ë¡œ ì´ˆê¸°í™”

dic['apple'].append(1) # âœ… íŠ¹ì • í‚¤ ê°’ì— ëŒ€í•œ ì´ˆê¸°í™” ì—†ì´ë„ ì—ëŸ¬ê°€ ë°œìƒí•˜ì§€ ì•ŠëŠ”ë‹¤
dic['apple'].append(2)
dic['apple'].append(3)
```
ì•„ë˜ì™€ ê°™ì´ ì¶œë ¥í•´ì„œ í™•ì¸í•  ìˆ˜ ìˆë‹¤.
```py
print(dic) # defaultdict(<class 'list'>, {'apple': [1, 2, 3]})

for val in dic.items():
    print(val)
# ('apple', [1, 2, 3])
```








***
<br>

    ğŸ’› ê°œì¸ ê³µë¶€ ê¸°ë¡ìš© ë¸”ë¡œê·¸ì…ë‹ˆë‹¤. ğŸ‘»

[ë§¨ ìœ„ë¡œ ì´ë™í•˜ê¸°](#){: .btn .btn--primary }{: .align-right}
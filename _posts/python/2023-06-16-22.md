---
title:  "[Python] 정규표현식 (Regular Expression) "

categories:
  - Python
tags:
  - [Python]

toc: true
toc_sticky: true
 
date: 2023-06-16 01:13:59
last_modified_at: 2023-06-16 01:14:02
---

<!-- > [생활코딩 강의](https://www.youtube.com/watch?v=V_ePeBaQzSc&list=PLB9NsRTifc1nc8J5BJhkE3AP9oieECVpJ)을 참고했다. -->

- 참고
  - [[Python 문법] 정규표현식 (Regular Expressions)](https://nachwon.github.io/regular-expressions/)
  - [FE UKKO의 알잘딱깔센 정규표현식 기초 개념 및 실습입니다!!!](https://github.com/orgs/woowacourse-precourse/discussions/912)
  - [정규표현식(Regular Expression) 사이트 및 팁](https://sysops.tistory.com/174)

## 정규표현식 문법






## 파이썬에서 정규표현식 사용

### 패턴 객체의 메서드
```py
import re

p = re.compile('[a-z]+')

# 💥 match: 시작부터 일치하는 패턴 찾기
print(p.match('aaaaa')) # <re.Match object; span=(0, 5), match='aaaaa'>
print(p.match('bbbbbbbbb')) # <re.Match object; span=(0, 9), match='bbbbbbbbb'>
print(p.match('1aaaa')) # None
print(p.match('aaa1aaa')) # <re.Match object; span=(0, 3), match='aaa'>

# 💥 search: 전체 문자열에서 첫 번째 매치 찾기
print(p.search('aaaaa')) # <re.Match object; span=(0, 5), match='aaaaa'>
print(p.search('11aaaa')) # <re.Match object; span=(2, 6), match='aaaa'>
print(p.search('aaa11aaa')) # <re.Match object; span=(0, 3), match='aaa'>
print(p.search('1aaa11aaa1')) # <re.Match object; span=(1, 4), match='aaa'>

# 💥 findall: 모든 매치를 찾아 리스트로 반환
print(p.findall('aaa')) # ['aaa']
print(p.findall('11aaa')) # ['aaa']
print(p.findall('1a1a1a1a1a')) # ['a', 'a', 'a', 'a', 'a']
print(p.findall('1aa1aaa1a1aa1aaa')) # ['aa', 'aaa', 'a', 'aa', 'aaa']

# 💥 finditer: 모든 매치를 찾아 반복가능 객체로 반환
f_iter = p.finditer('a1bb1ccc')
print(f_iter) # <callable_iterator object at 0x106375f90>
for x in f_iter:
    print(x)
# <re.Match object; span=(0, 1), match='a'>
# <re.Match object; span=(2, 4), match='bb'>
# <re.Match object; span=(5, 8), match='ccc'>
```

<br>

참고로 아래는 두 코드는 동일한 결과를 출력한다.
```py
p = re.compile('[a-z]+') # re.compile('패턴') 은 정규식 객체를 리턴
print(p.match('aaaaa')) # <re.Match object; span=(0, 5), match='aaaaa'>
```
```py
# re.compile('패턴', '검사하려는 문자열')
print(re.match('[a-z]+', 'aaaaa')) # <re.Match object; span=(0, 5), match='aaaaa'>
```





### 매치 객체의 메서드
위 예시에서 볼 수 있듯이 패턴 객체의 메서드를 통해 리턴된 매치 객체는 아래와 같은 형태이다.
```py
<re.Match object; span=(5, 8), match='ccc'>
```
이것의 의미는 다음과 같다.
```py
<re.Match object; span=(매치 시작지점 인덱스, 매치 끝지점 인덱스), match='매치된 문자열'>
```

<br>

매치 객체는 내부 정보에 접근할 수 있는 네 가지 메서드를 제공한다.<br>
![스크린샷 2023-06-16 오후 1 18 10](https://github.com/minju412/jenkins-test/assets/59405576/9d650b79-56bc-42c2-8e7a-2889f1bc81c4)


```py
p = re.compile('[a-z]+')

result = p.search('1aaa11aaa1') # search: 전체 문자열에서 첫 번째 매치 찾기
print(result) # <re.Match object; span=(1, 4), match='aaa'>

# 💥 매치 객체의 메서드 실행
print(result.group()) # aaa
print(result.start()) # 1
print(result.end()) # 4
print(result.span()) # (1, 4)
```

### group
정규표현식을 `()` 안에 넣으면 그 부분만 그룹화된다. <br>
`groups` 메서드를 통해 그룹들을 튜플 형태로 리턴 할 수 있다.

```py
p = re.search('(hello)(world)', 'helloworld') # re.search('패턴', '검사하려는 문자열')
print(p.groups()) # ('hello', 'world') # 각 그룹의 매치 결과가 튜플 형태로 리턴

# 💥 group() 메서드를 통해 각 그룹을 호출할 수 있다.
# 인자를 넣지 않으면 전체 매치 결과 리턴
print(p.group()) # helloworld
# group()와 같다
print(p.group(0)) # helloworld
# 1번 그룹 매치 결과 리턴
print(p.group(1)) # hello
# 2번 그룹 매치 결과 리턴
print(p.group(2)) # world
```

#### group 과 groups의 차이
```py
m = re.search('\d{4}-(\d?\d)-(\d?\d)', '1868-12-10')
# group 메서드는 정규식 전체의 일치부를 찾는다.
print(m.group()) # 1868-12-10 
# 반면에 groups 메서드는 명시적으로 캡처(( )로 감싼 부분)한 부분을 반환한다.
print(m.groups()) # ('12', '10') 
```


### Capturing Group
`yyyy-mm-dd`와 같이 날짜를 나타내는 문자열 중 월, 일을 각각 따로 빼서 쓰고 싶다고 하자.<br>
그럼 따로 빼고 싶은 부분인 `mm`과 `dd` 부분에만 소괄호의 캡처 기능을 사용하면 된다.
```py
print(re.findall('\d{4}-(\d\d)-(\d\d)', '2028-07-28')) # [('07', '28')]
print(re.findall('\d{4}-(\d\d)-(\d\d)', '1999/05/21 2018-07-28 2018-06-30 2019.01.01')) # [('07', '28'), ('06', '30')]
```









***
<br>

    💛 개인 공부 기록용 블로그입니다. 👻

[맨 위로 이동하기](#){: .btn .btn--primary }{: .align-right}
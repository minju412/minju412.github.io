---
title:  "[Docker] DockerHubì— ì´ë¯¸ì§€ ë°°í¬í•˜ê¸° "
# excerpt: "sprintfì— ëŒ€í•´ ì•Œì•„ë³´ì"

categories:
  - Docker
tags:
  - [Docker]

toc: true
toc_sticky: true
 
date: 2022-07-25 16:58:55
last_modified_at: 2022-07-25 16:58:58
---
```

ğŸš¨ ì‹œì‘í•˜ê¸° ì „ì—!! ì™„ë²½í•˜ì§€ ì•Šì€ ê²Œì‹œê¸€ì…ë‹ˆë‹¤. 
ê°œì¸ ê¸°ë¡ìš©ì´ë‹ˆ ë”°ë¼í•˜ì‹¤ ë¶„ë“¤ì€ ë‹¤ë¥¸ ê¸€ì„ ì°¸ê³ í•˜ì„¸ìš”ğŸ¥²

```

# 1. ì´ë¯¸ì§€ ë°°í¬
## 1) Dockerfile
```
FROM openjdk:11
ARG JAR_FILE=build/libs/server-0.0.1-SNAPSHOT.jar
COPY ${JAR_FILE} app.jar
EXPOSE 8080
ENTRYPOINT ["java", "-jar", "/app.jar"]
```
## 2) gradle ë¹Œë“œ
```
$ ./gradlew build -x test //ğŸŒŸ -x test: í…ŒìŠ¤íŠ¸ ì‹¤í–‰ X
```
<img width="581" alt="á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2022-07-21 á„‹á…©á„’á…® 4 32 41" src="https://user-images.githubusercontent.com/59405576/180156284-8b211b6d-3558-4350-9965-2655cba7ba33.png"><br>
ì´ëŸ°ì‹ìœ¼ë¡œ ìƒì„±ëœë‹¤.

## 3) Docker Hub
> Docker Hub<br>
[https://hub.docker.com/](https://hub.docker.com/)

### ë ˆí¬ì§€í† ë¦¬ ìƒì„±
1. íšŒì›ê°€ì… ë° ë¡œê·¸ì¸
2. Repositories > Create Repository ë¡œ ë“¤ì–´ê°€ì„œ ë„ì»¤ ë ˆí¬ì§€í† ë¦¬ë¥¼ ìƒì„±
3. Repository ì´ë¦„ê³¼ Publicìœ¼ë¡œ ì„¤ì •í•˜ê³  Create ë¥¼ í´ë¦­

### Docker Build -> ì´ë¯¸ì§€ ìƒì„±
```
// gradle
$ docker build --build-arg DEPENDENCY=build/dependency -t [ë„ì»¤í—ˆë¸Œ ID]/[Repository ì´ë¦„] --platform linux/amd64 .
// ë‚˜ëŠ” ì•„ë˜ì™€ ê°™ì´ ì…ë ¥í–ˆë‹¤ (ì˜ˆì‹œ)
// $ docker build --build-arg DEPENDENCY=build/dependency -t ln8847/naem --platform linux/amd64 .

// maven
$ docker build -t [ë„ì»¤í—ˆë¸Œ ID]/[Repository ì´ë¦„] --platform linux/amd64 .
```

#### ë§Œì•½ ì´ëŸ° ì˜¤ë¥˜ê°€ ë‚œë‹¤ë©´??
<img width="925" alt="á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2022-07-21 á„‹á…©á„’á…® 1 22 29" src="https://user-images.githubusercontent.com/59405576/180129446-5bee8bf4-8dd1-42d8-b626-d74dcdafb675.png">

##### `.dockerignore`
`.dockerignore` íŒŒì¼ì— `volume` ë””ë ‰í„°ë¦¬ë¥¼ ì¶”ê°€í•œë‹¤.
```
### IntelliJ IDEA ###
.idea
*.iws
*.iml
*.ipr

### volume ###
**/docker-data
```
<img width="928" alt="á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2022-07-21 á„‹á…©á„’á…® 1 26 20" src="https://user-images.githubusercontent.com/59405576/180129737-8ab17f36-2f50-4847-b108-b5b51bd69d1b.png"><br>
ì´ì œ ì—ëŸ¬ê°€ ë°œìƒí•˜ì§€ ì•ŠëŠ”ë‹¤!

### Docker Image Push
ìœ„ì—ì„œ ìƒì„±í•œ docker image íŒŒì¼ì„ Docker Hubì— pushë¥¼ í•´ì¤€ë‹¤.
```
$ docker login
$ docker push ln8847/naem
```

<img width="1052" alt="á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2022-07-21 á„‹á…©á„’á…® 1 29 02" src="https://user-images.githubusercontent.com/59405576/180129988-521185f1-8e8d-4314-aadb-8d9c79f7bb43.png"><br>

<img width="719" alt="á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2022-07-21 á„‹á…©á„’á…® 1 32 00" src="https://user-images.githubusercontent.com/59405576/180130316-63623671-c8cc-4506-9b23-455e687ff12b.png">

#### í‘¸ì‹œ ì „
<img width="1285" alt="á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2022-07-21 á„‹á…©á„’á…® 1 31 19" src="https://user-images.githubusercontent.com/59405576/180130413-a3939512-80bf-4308-9c84-63d4fe3ad2f9.png">

#### í‘¸ì‹œ í›„
<img width="1275" alt="á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2022-07-21 á„‹á…©á„’á…® 1 33 03" src="https://user-images.githubusercontent.com/59405576/180130418-c6924900-cbda-4a39-b196-b29dfb719ff3.png">

# 2. í—ˆë¸Œì—ì„œ ì´ë¯¸ì§€ pull
AWS EC2 ì¸ìŠ¤í„´ìŠ¤ì— ì ‘ì†í•œ ìƒíƒœë¡œ ì§„í–‰í•œë‹¤.

```
# ë„ì»¤ ì„¤ì¹˜
sudo yum install docker // ì´ê±°ëŠ” ì´ë¯¸ í•¨....

# ë„ì»¤ ì‹¤í–‰
sudo systemctl start docker // ì´ê²ƒë„ ìœ„ì—ì„œ í•¨....
```

```
# ë„ì»¤ í—ˆë¸Œì— ì¡´ì¬í•˜ëŠ” ì´ë¯¸ì§€ íŒŒì¼ pull
$ sudo docker pull ln8847/naem

# ë„ì»¤ ì´ë¯¸ì§€ë¥¼ í†µí•´ ìŠ¤í”„ë§ ë¶€íŠ¸ ì• í”Œë¦¬ì¼€ì´ì…˜ ë°°í¬
$ sudo docker run --name naem-application -p 8080:8080 ln8847/naem
```











# Ref
- [https://www.lainyzine.com/ko/article/docker-rm-removing-docker-containers/](https://www.lainyzine.com/ko/article/docker-rm-removing-docker-containers/): docker rm ì‚¬ìš©ë²•: Docker ì»¨í…Œì´ë„ˆë¥¼ ì‚­ì œí•˜ëŠ” ë°©ë²•
- [https://jojoldu.tistory.com/587](https://jojoldu.tistory.com/587)







***
<br>


    ğŸ’› ê°œì¸ ê³µë¶€ ê¸°ë¡ìš© ë¸”ë¡œê·¸ì…ë‹ˆë‹¤. ğŸ‘»

[ë§¨ ìœ„ë¡œ ì´ë™í•˜ê¸°](#){: .btn .btn--primary }{: .align-right}
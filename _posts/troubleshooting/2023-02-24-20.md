---
title:  "[Trouble Shooting] TransientPropertyValueException: object references an unsaved transient instance í•´ê²° "

categories:
  - TroubleShooting
tags:
  - [TroubleShooting]

toc: true
toc_sticky: true
 
date: 2023-02-24 15:40:29
last_modified_at: 2023-02-24 15:40:32
---

## ë¬¸ì œ ìƒí™©
ì—”í‹°í‹° í´ë˜ìŠ¤ ì‘ì„± í›„ ì„œë²„ë¥¼ ì‹¤í–‰í•˜ê³ , í¬ìŠ¤íŠ¸ë§¨ì„ ì´ìš©í•´ ìš”ì²­í•˜ëŠ” ë„ì¤‘ì— í•´ë‹¹ ì—ëŸ¬ê°€ ë°œìƒí•˜ì˜€ë‹¤. 

## ë¬¸ì œ ì›ì¸
ì˜ì†ì„±ë•Œë¬¸ì— ë‚˜ëŠ” ì˜¤ë¥˜ì´ë‹¤. <br>
FKë¡œ ì“°ëŠ” ê°ì²´ê°€ ì•„ì§ ì €ì¥ì´ ì•ˆ ë˜ì„œ ì˜¤ë¥˜ê°€ ë°œìƒí•œë‹¤ê³  í•œë‹¤.<br>
ê°ì²´ê°„ `@OneToMany`, `@ManyToOne` ê°™ì€ ì–´ë…¸í…Œì´ì…˜ì„ ì‚¬ìš©í•  ë•Œ ë°œìƒí•  ìˆ˜ ìˆë‹¤.<br><br>
ë‚´ ê²½ìš°ì—ëŠ”, ê´€ê³„ ì •ì˜ê°€ ì•„ë˜ì™€ ê°™ì´ ë˜ì–´ìˆì—ˆëŠ”ë°<br>
![IMG_0401](https://user-images.githubusercontent.com/59405576/221110696-c25c895b-f751-4181-9f65-92baf3c4cf3d.jpg){: width="700" height="700"}<br>
`Pet` í´ë˜ìŠ¤ì—ì„œ ì—ëŸ¬ê°€ ë°œìƒí–ˆë‹¤.


## í•´ê²° ë°©ë²•
> [ì´ ê¸€](https://conservative-vector.tistory.com/entry/%EC%98%A4%EB%A5%98)ì„ ì°¸ê³ í–ˆë‹¤.

joiní•˜ëŠ”ìª½ì— `cascade = CascadeType.ALL`ë¥¼ ì„¤ì •í•´ì¤€ë‹¤.<br>
`Pet` í´ë˜ìŠ¤ì˜ ë³€ê²½ ì „ê³¼ í›„ì˜ ì½”ë“œë¥¼ ë³´ë©´ ì´í•´ê°€ ì‰¬ìš¸ ê²ƒì´ë‹¤.<br>

ë³€ê²½ ì „
```java
@Entity
@Getter
public class Pet {
    ...

    @ManyToOne(fetch = FetchType.LAZY)
    @JoinColumn(name = "ownerId")
    private User owner;
}
```

ë³€ê²½ í›„
```java
@Entity
@Getter
public class Pet {
    ...
    
    @ManyToOne(fetch = FetchType.LAZY, cascade = CascadeType.ALL)
    @JoinColumn(name = "ownerId")
    private User owner;
}
```









***
<br>

    ğŸ’› ê°œì¸ ê³µë¶€ ê¸°ë¡ìš© ë¸”ë¡œê·¸ì…ë‹ˆë‹¤. ğŸ‘»

[ë§¨ ìœ„ë¡œ ì´ë™í•˜ê¸°](#){: .btn .btn--primary }{: .align-right}
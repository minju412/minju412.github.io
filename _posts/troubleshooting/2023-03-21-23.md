---
title:  "[Trouble Shooting] Mockito: java.lang.NullPointerException í•´ê²° "

categories:
  - TroubleShooting
tags:
  - [TroubleShooting]

toc: true
toc_sticky: true
 
date: 2023-03-08 22:41:00
last_modified_at: 2023-03-08 22:41:03
---

## ë¬¸ì œ ìƒí™©
Mockitoë¥¼ ì´ìš©í•˜ì—¬ í…ŒìŠ¤íŠ¸ ì½”ë“œ ì‘ì„± í›„ ì‹¤í–‰í•˜ë‹ˆ ì•„ë˜ì™€ ê°™ì€ ì—ëŸ¬ê°€ ë°œìƒí–ˆë‹¤.
```
java.lang.NullPointerException
at {í”„ë¡œì íŠ¸ëª…}.Service.AuthService.generateToken(AuthService.java:78)
at {í”„ë¡œì íŠ¸ëª…}.Service.AuthService.generateToken(AuthServiceTest.java:72)
```

## ë¬¸ì œ ì›ì¸
ì„œë¹„ìŠ¤ ë‹¨ì—ì„œ `petRepository.findByPetNameAndOwner()`ë¥¼ í˜¸ì¶œí•˜ëŠ”ë°, <br>
í…ŒìŠ¤íŠ¸ ì½”ë“œì—ì„œëŠ” ì•„ë˜ì™€ ê°™ì´ ì‘ì„±í–ˆê¸° ë•Œë¬¸ì— petì— null ê°’ì´ ë“¤ì–´ìˆì—ˆë‹¤.
```java
when(petRepository.findById(id)).thenReturn(Optional.of(pet));
```

## í•´ê²° ë°©ë²•

> [Null Pointer Exception í•´ê²°](https://velog.io/@u-nij/%ED%8A%B8%EB%9F%AC%EB%B8%94-%EC%8A%88%ED%8C%85-221103#1-nullpointerexception)

ì„œë¹„ìŠ¤ ë‹¨ì—ì„œ ì‚¬ìš©í•˜ëŠ” ê²ƒê³¼ ê°™ì€ ë©”ì„œë“œë¥¼ í˜¸ì¶œí•˜ì—¬ mock ê°’ì„ ë°˜í™˜í•  ìˆ˜ ìˆë„ë¡ í•´ì£¼ì—ˆë‹¤.
```java
when(petRepository.findByPetNameAndOwner("gomgom",user)).thenReturn(Optional.of(pet));
```












***
<br>

    ğŸ’› ê°œì¸ ê³µë¶€ ê¸°ë¡ìš© ë¸”ë¡œê·¸ì…ë‹ˆë‹¤. ğŸ‘»

[ë§¨ ìœ„ë¡œ ì´ë™í•˜ê¸°](#){: .btn .btn--primary }{: .align-right}
---
title:  "[Trouble Shooting] MySQL ì»¨í…Œì´ë„ˆ í•œê¸€ ì¸ì½”ë”© í•´ê²° "

categories:
  - TroubleShooting
tags:
  - [TroubleShooting]

toc: true
toc_sticky: true
 
date: 2023-06-21 16:07:48
last_modified_at: 2023-06-21 16:07:51
---

## ë¬¸ì œ ìƒí™©
ì•„ë˜ì™€ ê°™ì´ ë„ì»¤ë¡œ ê¸°ë™í•œ mysql ì»¨í…Œì´ë„ˆì— í•œê¸€ì´ ê¹¨ì ¸ `???`ìœ¼ë¡œ ì €ì¥ëœë‹¤.<br>
![á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2023-06-21 á„‹á…©á„’á…® 4 08 45](https://github.com/minju412/jenkins-test/assets/59405576/c4525444-8f75-42be-95f1-0f47ff5e89d2)


## ë¬¸ì œ ì›ì¸
ë„ì»¤ ì»¨í…Œì´ë„ˆì˜ í•œê¸€ ì¸ì½”ë”© ì„¤ì •ì´ ì•ˆë˜ì–´ìˆì–´ ë°œìƒí•˜ëŠ” ë¬¸ì œì˜€ë‹¤.<br>
`docker-compose.yml` ì—ì„œ ì•„ë˜ì™€ ê°™ì´ ì„¤ì •í–ˆì§€ë§Œ, `Client characterset`ê³¼ `Conn. characterset`ì€ ë„ì»¤ ì»´í¬ì¦ˆì—ì„œ ì„¤ì •í•  ìˆ˜ ì—†ë‹¤ê³  í•œë‹¤ã…œ <br>
![á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2023-06-28 á„‹á…©á„Œá…¥á†« 1 35 18](https://github.com/minju412/jenkins-test/assets/59405576/064f8a61-c460-455b-aa61-be207fb947c6)

## í•´ê²° ë°©ë²•

mysql ì»¨í…Œì´ë„ˆ ì•ˆì— vim ì„¤ì¹˜ í›„ my.cnf ì§ì ‘ ìƒì„±í•œ ë’¤ ë³¼ë¥¨ ë§ˆìš´íŠ¸í•˜ì—¬ í•´ê²°í–ˆë‹¤!<br>
ìš°ì„  mysql ì»¨í…Œì´ë„ˆ ë‚´ë¶€ì— ì ‘ì†í•´ì„œ ì•„ë˜ ëª…ë ¹ì–´ë“¤ì„ ì‹¤í–‰í•œë‹¤.<br>
### OS í™•ì¸
```
cat /etc/*-release
```

### ì»¨í…Œì´ë„ˆì— vim ì„¤ì¹˜
vimì„ ì„¤ì¹˜í•˜ê¸° ìœ„í•´ `yum`, `dnf`, `apt-get` ë“±ì˜ ì»¤ë§¨ë“œë¥¼ ì‹œë„í•´ë³´ì•˜ì§€ë§Œ ëª¨ë‘ `command not found`ë¥¼ ë¿œì—ˆë‹¤..<br>
[ì´ ê¸€](https://okky.kr/questions/1413470)ì„ ì°¸ê³ í•˜ì—¬ redhat ootpaëŠ” `microdnf` íŒ¨í‚¤ì§€ ë§¤ë‹ˆì €ë¥¼ ì‚¬ìš©í•œë‹¤ëŠ” ì‚¬ì‹¤ì„ ì•Œì•˜ë‹¤.
```bash
$ microdnf install vim
```

### my.cnf íŒŒì¼ ìƒì„± ë° ë‚´ìš© ì‘ì„±
```bash
# mysql ì»¨í…Œì´ë„ˆ ì ‘ì†
docker exec -it my_mysql /bin/bash

# mysql ì„¤ì •íŒŒì¼ ìƒì„±
vim etc/mysql/conf.d/my.cnf
```
ì•„ë˜ì²˜ëŸ¼ ë‚´ìš© ì‘ì„±
```
[mysqld]
character-set-client-handshake = FALSE
character-set-server           = utf8mb4
collation-server               = utf8mb4_unicode_ci
secure-file-priv               = ""

[mysql]
default-character-set = utf8mb4

[client]
default-character-set = utf8mb4
```

### docker-compose ë³¼ë¥¨ ë§ˆìš´íŠ¸
í”„ë¡œì íŠ¸ì˜ `docker.compose.yml` íŒŒì¼ì— ë³¼ë¥¨ ë§ˆìš´íŠ¸ë¥¼ í•œë‹¤.
```
version: '3'
services:
  database:
    container_name: my_mysql
    image: mysql
    volumes:
      - ./db/conf.d:/etc/mysql/conf.d # âœ…
    ...
```

### ë³€ê²½ í™•ì¸
ì»¨í…Œì´ë„ˆ ì¬ê¸°ë™ í›„ í™•ì¸í•´ë³´ì!<br><br>
ë³€ê²½ ì „<br>
![á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2023-06-28 á„‹á…©á„Œá…¥á†« 1 32 24](https://github.com/minju412/jenkins-test/assets/59405576/58e92e93-a5d8-4533-b8d8-bada2a918f45)<br><br>
ë³€ê²½ í›„<br>
![á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2023-06-28 á„‹á…©á„Œá…¥á†« 1 32 55](https://github.com/minju412/jenkins-test/assets/59405576/a014ed43-e816-4ee3-8cc3-a078446ccef5)

ì´ì œ í•œê¸€ì´ ê¹¨ì§€ì§€ ì•Šê³  ì˜ ë³´ì¸ë‹¤!<br>
![á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2023-06-28 á„‹á…©á„Œá…¥á†« 1 27 27](https://github.com/minju412/jenkins-test/assets/59405576/dc1fb78a-da11-4c53-9afe-7e47d838160a)





***
<br>

    ğŸ’› ê°œì¸ ê³µë¶€ ê¸°ë¡ìš© ë¸”ë¡œê·¸ì…ë‹ˆë‹¤. ğŸ‘»

[ë§¨ ìœ„ë¡œ ì´ë™í•˜ê¸°](#){: .btn .btn--primary }{: .align-right}